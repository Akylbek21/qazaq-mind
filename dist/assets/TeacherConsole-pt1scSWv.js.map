{"version":3,"file":"TeacherConsole-pt1scSWv.js","sources":["../../src/api/resources.js","../../src/pages/TeacherConsole.jsx"],"sourcesContent":["// src/api/resources.js\r\nimport { getJSON } from \"./client\";\r\n\r\n// Нормализуем разные форматы ответа (массив или {data:[...]})\r\nfunction normalize(payload) {\r\n  const arr = Array.isArray(payload) ? payload : Array.isArray(payload?.data) ? payload.data : [];\r\n  return arr.map((r) => ({\r\n    id: r.id ?? r.uuid ?? r._id ?? Math.random().toString(36).slice(2),\r\n    title: r.title || r.name || \"Untitled\",\r\n    url: r.url || r.link || \"\",\r\n    description: r.description || r.desc || \"\",\r\n    // сервер иногда шлёт \"tags\" строкой — приведём к массиву\r\n    tags: Array.isArray(r.tags) ? r.tags : String(r.tags || \"\").split(/[,\\s]+/).filter(Boolean),\r\n  }));\r\n}\r\n\r\nexport async function fetchResources(q = \"\") {\r\n  const qv = q && q.trim() ? q.trim() : \"*\";\r\n\r\n  // Попытка №1: /api/resources?q=<значение или '*'>\r\n  try {\r\n    const res1 = await getJSON(`/api/resources?q=${encodeURIComponent(qv)}`);\r\n    return normalize(res1);\r\n  } catch (e1) {\r\n    // Попытка №2: без q (на случай, если сервер как раз ждёт пустой параметр)\r\n    try {\r\n      const res2 = await getJSON(`/api/resources`);\r\n      return normalize(res2);\r\n    } catch (e2) {\r\n      // Попытка №3: с пустым q\r\n      try {\r\n        const res3 = await getJSON(`/api/resources?q=`);\r\n        return normalize(res3);\r\n      } catch {\r\n        // Всё упало — пробрасываем исходную ошибку (чтобы в UI показался текст)\r\n        throw e1;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default { fetchResources };\r\n","// src/pages/TeacherConsole.jsx\r\nimport React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { fetchResources } from \"@/api/resources\";\r\n\r\nconst LS_KEY = \"teacher_console_state_v1\";\r\nconst LS_NOTE_KEY = \"teacher_console_groupnote_v1\";\r\nconst safeUrl = (u) => (/^https?:\\/\\//i.test(String(u || \"\")) ? String(u) : \"\");\r\n\r\n// Алғашқы тізім (локалдық демо)\r\nconst DEFAULT_STUDENTS = [\r\n  { id: 1, name: \"Айдана Т.\", grade: \"\", present: false, note: \"\" },\r\n  { id: 2, name: \"Мируан С.\", grade: \"\", present: false, note: \"\" },\r\n  { id: 3, name: \"Әмина Қ.\", grade: \"\", present: false, note: \"\" },\r\n  { id: 4, name: \"Нұрасыл А.\", grade: \"\", present: false, note: \"\" },\r\n];\r\n\r\nfunction loadStudents() {\r\n  try {\r\n    return JSON.parse(localStorage.getItem(LS_KEY) || \"null\") || DEFAULT_STUDENTS;\r\n  } catch {\r\n    return DEFAULT_STUDENTS;\r\n  }\r\n}\r\nfunction saveStudents(data) {\r\n  localStorage.setItem(LS_KEY, JSON.stringify(data));\r\n}\r\n\r\nexport default function TeacherConsole() {\r\n  const [students, setStudents] = React.useState(loadStudents);\r\n  const [groupNote, setGroupNote] = React.useState(\r\n    () => localStorage.getItem(LS_NOTE_KEY) || \"\"\r\n  );\r\n\r\n  React.useEffect(() => { saveStudents(students); }, [students]);\r\n  React.useEffect(() => { localStorage.setItem(LS_NOTE_KEY, groupNote || \"\"); }, [groupNote]);\r\n\r\n  const setField = (id, patch) =>\r\n    setStudents((prev) => prev.map((s) => (s.id === id ? { ...s, ...patch } : s)));\r\n\r\n  const markAll = (present) =>\r\n    setStudents((prev) => prev.map((s) => ({ ...s, present })));\r\n\r\n  const clearAll = () =>\r\n    setStudents((prev) => prev.map((s) => ({ ...s, grade: \"\", note: \"\" })));\r\n\r\n  const presentCount = students.filter((s) => s.present).length;\r\n\r\n  const exportJSON = () => {\r\n    const payload = { date: new Date().toISOString(), groupNote, students };\r\n    const blob = new Blob([JSON.stringify(payload, null, 2)], { type: \"application/json\" });\r\n    const a = document.createElement(\"a\");\r\n    a.href = URL.createObjectURL(blob);\r\n    a.download = `teacher-console-${new Date().toISOString().slice(0, 10)}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(a.href);\r\n  };\r\n\r\n  const [summaryStudentId, setSummaryStudentId] = React.useState(\r\n    students[0]?.id ?? 1\r\n  );\r\n\r\n  // Егер таңдалған оқушы тізімнен жоғалса — автоматты түрде біріншіге ауысамыз\r\n  React.useEffect(() => {\r\n    if (!students.find((s) => s.id === Number(summaryStudentId)) && students[0]) {\r\n      setSummaryStudentId(students[0].id);\r\n    }\r\n  }, [students, summaryStudentId]);\r\n\r\n  const curr = students.find((s) => s.id === Number(summaryStudentId));\r\n  const parentSummary = curr\r\n    ? `Сәлеметсіз бе! ${curr.name} бүгін сабаққа ${curr.present ? \"қатысты\" : \"қатыспады\"}.\r\nСоңғы баға: ${curr.grade || \"—\"}. Мұғалім ескертпесі: ${curr.note || \"жоқ\"}.`\r\n    : \"\";\r\n\r\n  /* -------- Ресурстар (server) -------- */\r\n  const [resQuery, setResQuery] = React.useState(\"\");\r\n  const [resources, setResources] = React.useState([]);\r\n  const [resLoading, setResLoading] = React.useState(false);\r\n  const [resErr, setResErr] = React.useState(\"\");\r\n\r\n  const loadResources = async (q = \"\") => {\r\n    setResLoading(true); setResErr(\"\");\r\n    try {\r\n      const list = await fetchResources(q.trim());\r\n      setResources(list);\r\n    } catch (e) {\r\n      setResErr(e?.message || \"Ресурстарды жүктеу мүмкін емес.\");\r\n      setResources([]);\r\n    } finally {\r\n      setResLoading(false);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => { loadResources(\"*\"); }, []);\r\n  const onResSearch = () => loadResources(resQuery);\r\n  const onResKey = (e) => { if (e.key === \"Enter\") onResSearch(); };\r\n\r\n  return (\r\n    <div className=\"container mx-auto max-w-6xl px-4 py-10\">\r\n      <motion.h1\r\n        initial={{ opacity: 0, y: 8 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"text-3xl md:text-4xl font-extrabold text-slate-900\"\r\n      >\r\n        Ақылды көмекші — <span className=\"text-[#7c3aed]\">Teacher Console</span>\r\n      </motion.h1>\r\n      <p className=\"mt-2 text-slate-600\">\r\n        Журнал, қатысу, жедел бағалау және ата-анаға қысқа есеп.\r\n        Барлық өзгерістер құрылғыда <b>жергілікті</b> сақталады.\r\n      </p>\r\n\r\n      {/* Қысқа әрекеттер */}\r\n      <div className=\"mt-6 flex flex-wrap gap-3\">\r\n        <button onClick={() => markAll(true)} className=\"px-4 py-2 rounded-xl bg-emerald-600 text-white font-semibold\">Барлығы қатысқан</button>\r\n        <button onClick={() => markAll(false)} className=\"px-4 py-2 rounded-xl border border-slate-300 font-semibold\">Барлығы қатыспаған</button>\r\n        <button onClick={clearAll} className=\"px-4 py-2 rounded-xl border border-slate-300 font-semibold\">Ескертпе/бағаны тазалау</button>\r\n        <button onClick={exportJSON} className=\"px-4 py-2 rounded-xl bg-indigo-600 text-white font-semibold\">JSON экспорт</button>\r\n        <div className=\"ml-auto text-sm text-slate-600 self-center\">\r\n          Қатысу: <b>{presentCount}</b> / {students.length}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Кесте */}\r\n      <div className=\"mt-6 overflow-x-auto rounded-2xl border border-slate-200 bg-white\">\r\n        <table className=\"min-w-full text-sm\">\r\n          <thead className=\"bg-slate-50 text-slate-700\">\r\n            <tr>\r\n              <th className=\"px-4 py-3 text-left\">Оқушы</th>\r\n              <th className=\"px-4 py-3 text-left\">Қатысу</th>\r\n              <th className=\"px-4 py-3 text-left\">Баға</th>\r\n              <th className=\"px-4 py-3 text-left\">Ескертпе</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {students.map((s) => (\r\n              <tr key={s.id} className=\"border-t\">\r\n                <td className=\"px-4 py-3\">{s.name}</td>\r\n                <td className=\"px-4 py-3\">\r\n                  <label className=\"inline-flex items-center gap-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={s.present}\r\n                      onChange={(e) => setField(s.id, { present: e.target.checked })}\r\n                    />\r\n                    <span>{s.present ? \"Қатысты\" : \"Қатыспады\"}</span>\r\n                  </label>\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={s.grade}\r\n                    onChange={(e) => setField(s.id, { grade: e.target.value })}\r\n                    className=\"w-24 rounded-lg border border-slate-300 px-2 py-1 outline-none focus:ring-2 focus:ring-indigo-500/60\"\r\n                    placeholder=\"мыс: 10\"\r\n                  />\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={s.note}\r\n                    onChange={(e) => setField(s.id, { note: e.target.value })}\r\n                    className=\"w-full rounded-lg border border-slate-300 px-2 py-1 outline-none focus:ring-2 focus:ring-indigo-500/60\"\r\n                    placeholder=\"қысқа ескерту\"\r\n                  />\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Топтық жазба + ата-анаға қысқа есеп */}\r\n      <div className=\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-4\">\r\n          <h3 className=\"font-bold text-slate-900\">Топтық жазба / рефлексия</h3>\r\n          <textarea\r\n            rows={6}\r\n            value={groupNote}\r\n            onChange={(e) => setGroupNote(e.target.value)}\r\n            className=\"mt-2 w-full rounded-xl border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-purple-500/60\"\r\n            placeholder=\"Бүгінгі сабақтағы жалпы байқаулар…\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-4\">\r\n          <h3 className=\"font-bold text-slate-900\">Ата-анаға қысқа есеп</h3>\r\n          <div className=\"mt-2 flex gap-2 items-center\">\r\n            <label className=\"text-sm text-slate-600\">Оқушы:</label>\r\n            <select\r\n              value={summaryStudentId}\r\n              onChange={(e) => setSummaryStudentId(Number(e.target.value))}\r\n              className=\"rounded-lg border border-slate-300 px-3 py-2\"\r\n            >\r\n              {students.map((s) => (\r\n                <option key={s.id} value={s.id}>{s.name}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <textarea\r\n            readOnly\r\n            rows={5}\r\n            value={parentSummary}\r\n            className=\"mt-2 w-full rounded-xl border border-slate-300 px-3 py-2 bg-slate-50\"\r\n          />\r\n          <p className=\"mt-2 text-xs text-slate-500\">† Осы мәтінді көшіріп, AtaLink арқылы жіберуге болады.</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Мұғалім ресурстары (server) */}\r\n      <div className=\"mt-8 rounded-2xl border border-slate-200 bg-white p-4\">\r\n        <h3 className=\"font-bold text-slate-900\">Мұғалім ресурстары</h3>\r\n        <div className=\"mt-3 flex gap-2\">\r\n          <input\r\n            value={resQuery}\r\n            onChange={(e) => setResQuery(e.target.value)}\r\n            onKeyDown={onResKey}\r\n            placeholder=\"іздеу: classroom, steam, methodology…\"\r\n            className=\"flex-1 rounded-xl border border-slate-300 px-3 py-2\"\r\n          />\r\n          <button\r\n            onClick={onResSearch}\r\n            className=\"px-4 py-2 rounded-xl bg-emerald-600 text-white font-semibold\"\r\n          >\r\n            Іздеу\r\n          </button>\r\n        </div>\r\n\r\n        {resLoading && <div className=\"mt-3 text-sm text-slate-500\">Жүктелуде…</div>}\r\n        {resErr && !resLoading && <div className=\"mt-3 text-sm text-rose-600\">{resErr}</div>}\r\n\r\n        <div className=\"mt-4 grid gap-3 md:grid-cols-2\">\r\n          {resources.map((r) => {\r\n            const href = safeUrl(r.url);\r\n            return (\r\n              <a\r\n                key={r.id}\r\n                href={href || undefined}\r\n                target=\"_blank\"\r\n                rel=\"noreferrer noopener\"\r\n                className={`block rounded-xl border border-slate-200 p-4 hover:bg-slate-50 ${\r\n                  href ? \"\" : \"pointer-events-none opacity-60\"\r\n                }`}\r\n                title={r.url}\r\n              >\r\n                <div className=\"font-semibold text-slate-900\">{r.title}</div>\r\n                {r.description && (\r\n                  <div className=\"mt-1 text-sm text-slate-700\">{r.description}</div>\r\n                )}\r\n                {Array.isArray(r.tags) && r.tags.length > 0 && (\r\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                    {r.tags.map((t) => (\r\n                      <span\r\n                        key={t}\r\n                        className=\"text-xs px-2 py-1 rounded-lg bg-slate-100 border border-slate-200\"\r\n                      >\r\n                        #{t}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </a>\r\n            );\r\n          })}\r\n          {!resLoading && resources.length === 0 && (\r\n            <div className=\"text-sm text-slate-500\">Нәтиже жоқ.</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["normalize","payload","r","fetchResources","q","qv","res1","getJSON","e1","res2","res3","LS_KEY","LS_NOTE_KEY","safeUrl","u","DEFAULT_STUDENTS","loadStudents","saveStudents","data","TeacherConsole","students","setStudents","React","groupNote","setGroupNote","setField","id","patch","prev","s","markAll","present","clearAll","presentCount","exportJSON","blob","a","summaryStudentId","setSummaryStudentId","curr","parentSummary","resQuery","setResQuery","resources","setResources","resLoading","setResLoading","resErr","setResErr","loadResources","list","e","onResSearch","onResKey","jsxs","motion","jsx","href","t"],"mappings":"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"}