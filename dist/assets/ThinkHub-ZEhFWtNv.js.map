{"version":3,"file":"ThinkHub-ZEhFWtNv.js","sources":["../../src/api/sq.js","../../src/pages/ThinkHub.jsx"],"sourcesContent":["// src/api/sq.js\r\nimport { getJSON, postJSON } from \"./client\";\r\n\r\nexport const API = {\r\n  BOOKS: \"/api/sq/books\",\r\n  BOOK_QUESTIONS: (bookId) => `/api/sq/books/${bookId}/questions`,\r\n  ANSWER: \"/api/sq/answer\",\r\n  SUMMARY: (bookId) => `/api/sq/books/${bookId}/summary`,\r\n};\r\n\r\nconst LETTERS = [\"A\", \"B\", \"C\", \"D\"];\r\n\r\nexport const fromIndex = (i) =>\r\n  typeof i === \"number\" && i >= 0 && i < LETTERS.length ? LETTERS[i] : null;\r\n\r\nexport const toIndex = (letter) => {\r\n  const idx = LETTERS.indexOf(String(letter ?? \"\").trim().toUpperCase());\r\n  return idx >= 0 ? idx : -1;\r\n};\r\n\r\nexport const toLetter = (value) => {\r\n  const c = String(value ?? \"\").trim().toUpperCase();\r\n  if (!LETTERS.includes(c)) throw new TypeError(\"chosen –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å A/B/C/D\");\r\n  return c;\r\n};\r\n\r\nconst ensureId = (name, v) => {\r\n  if (v == null || v === \"\" || Number.isNaN(Number(v))) {\r\n    throw new TypeError(`${name}: –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º/—Å—Ç—Ä–æ–∫–æ–π ID`);\r\n  }\r\n  return v;\r\n};\r\n\r\nexport async function fetchSQBooks(opts = {}) {\r\n  const list = await getJSON(API.BOOKS, opts);\r\n  return Array.isArray(list) ? list : [];\r\n}\r\n\r\nexport async function fetchSQBookQuestions(bookId, opts = {}) {\r\n  const id = ensureId(\"fetchSQBookQuestions.bookId\", bookId);\r\n  const list = await getJSON(API.BOOK_QUESTIONS(id), opts);\r\n  return (Array.isArray(list) ? list : []).map((q) => ({\r\n    id: q.id,\r\n    book: q.book,\r\n    prompt: q.prompt,\r\n    options: [q.optionA, q.optionB, q.optionC, q.optionD].filter((v) => v != null),\r\n    imageUrl: q.imageUrl || q.image || null,\r\n    domain: q.domain || null,\r\n    correctLetter: q.correct || null,\r\n  }));\r\n}\r\n\r\nexport async function submitSQAnswer({ questionId, chosen }, opts = {}) {\r\n  const qid = ensureId(\"submitSQAnswer.questionId\", questionId);\r\n  const letter = toLetter(chosen);\r\n  return postJSON(API.ANSWER, { questionId: qid, chosen: letter }, opts);\r\n}\r\n\r\nexport async function fetchSQSummary(bookId, opts = {}) {\r\n  const id = ensureId(\"fetchSQSummary.bookId\", bookId);\r\n  return getJSON(API.SUMMARY(id), opts);\r\n}\r\n\r\n// –∞–ª–∏–∞—Å –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤\r\nexport { fetchSQSummary as fetchSQBookSummary };\r\n\r\nexport default {\r\n  fetchSQBooks,\r\n  fetchSQBookQuestions,\r\n  submitSQAnswer,\r\n  fetchSQSummary,\r\n  fromIndex,\r\n  toIndex,\r\n  toLetter,\r\n};\r\n","// src/pages/ThinkHub.jsx\r\nimport React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  fetchSQBooks,\r\n  fetchSQBookQuestions,\r\n  submitSQAnswer,\r\n  fetchSQSummary,\r\n  fromIndex,\r\n} from \"@/api/sq\";\r\n\r\n/* ---------- –º–∏–Ω–∏-—É—Ç–∏–ª—å ---------- */\r\nconst Progress = ({ value }) => (\r\n  <div className=\"w-full bg-slate-200/70 rounded-full h-2.5 overflow-hidden\">\r\n    <div\r\n      className=\"h-2.5 rounded-full bg-gradient-to-r from-[#1F7A8C] via-[#1aa6b5] to-[#0ea5a5]\"\r\n      style={{ width: `${value}%` }}\r\n    />\r\n  </div>\r\n);\r\n\r\nconst Badge = ({ ok }) => (\r\n  <span\r\n    className={`ml-2 inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs ${\r\n      ok ? \"bg-emerald-100 text-emerald-700\" : \"bg-rose-100 text-rose-700\"\r\n    }`}\r\n  >\r\n    {ok ? \"–î“±—Ä—ã—Å\" : \"–ë“±—Ä—ã—Å\"}\r\n  </span>\r\n);\r\n\r\nexport default function ThinkHub() {\r\n  // –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ –∫–Ω–∏–≥\r\n  const [books, setBooks] = React.useState([]);\r\n  const [loadingBooks, setLoadingBooks] = React.useState(false);\r\n  const [booksErr, setBooksErr] = React.useState(\"\");\r\n\r\n  // –¢–µ–∫—É—â–∞—è –∫–Ω–∏–≥–∞ –∏ –≤–æ–ø—Ä–æ—Å—ã\r\n  const [book, setBook] = React.useState(null);\r\n  const [questions, setQuestions] = React.useState([]);\r\n  const [loadingQs, setLoadingQs] = React.useState(false);\r\n  const [qsErr, setQsErr] = React.useState(\"\");\r\n\r\n  // –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞\r\n  const [phase, setPhase] = React.useState(\"catalog\"); // catalog | quiz | result\r\n  const [step, setStep] = React.useState(0);\r\n  const [answers, setAnswers] = React.useState({}); // qId -> 'A'|'B'|'C'|'D'\r\n  const [results, setResults] = React.useState({}); // qId -> {correct:boolean}\r\n  const [submitting, setSubmitting] = React.useState(false);\r\n\r\n  // –ò—Ç–æ–≥ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞\r\n  const [summary, setSummary] = React.useState(null);\r\n  const [summaryErr, setSummaryErr] = React.useState(\"\");\r\n\r\n  // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–Ω–∏–≥\r\n  const loadBooks = async () => {\r\n    setLoadingBooks(true);\r\n    setBooksErr(\"\");\r\n    try {\r\n      const list = await fetchSQBooks();\r\n      setBooks(Array.isArray(list) ? list : []);\r\n    } catch (e) {\r\n      setBooksErr(e?.message || \"–ö—ñ—Ç–∞–ø—Ç–∞—Ä —Ç—ñ–∑—ñ–º—ñ –∂“Ø–∫—Ç–µ–ª–º–µ–¥—ñ.\");\r\n    } finally {\r\n      setLoadingBooks(false);\r\n    }\r\n  };\r\n  React.useEffect(() => {\r\n    loadBooks();\r\n  }, []);\r\n\r\n  // –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç –ø–æ –∫–Ω–∏–≥–µ\r\n  const startBook = async (b) => {\r\n    // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è\r\n    setBook(b);\r\n    setPhase(\"quiz\");\r\n    setStep(0);\r\n    setAnswers({});\r\n    setResults({});\r\n    setSummary(null);\r\n    setSummaryErr(\"\");\r\n\r\n    setLoadingQs(true);\r\n    setQsErr(\"\");\r\n    try {\r\n      const qs = await fetchSQBookQuestions(b.id);\r\n      setQuestions(qs);\r\n    } catch (e) {\r\n      setQsErr(e?.message || \"–°“±—Ä–∞“õ—Ç–∞—Ä –∂“Ø–∫—Ç–µ–ª–º–µ–¥—ñ.\");\r\n      setPhase(\"catalog\");\r\n      setBook(null);\r\n    } finally {\r\n      setLoadingQs(false);\r\n    }\r\n  };\r\n\r\n  // –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ (—Å—Ä–∞–∑—É –ø—Ä–∏ –≤—ã–±–æ—Ä–µ)\r\n  const onChoose = async (qIndex, choiceIndex) => {\r\n    if (!questions[qIndex]) return;\r\n    const q = questions[qIndex];\r\n    const letter = fromIndex(choiceIndex); // A/B/C/D\r\n    if (!letter) return;\r\n\r\n    // –ª–æ–∫–∞–ª—å–Ω–æ —Ñ–∏–∫—Å–∏—Ä—É–µ–º –≤—ã–±–æ—Ä\r\n    setAnswers((prev) => ({ ...prev, [q.id]: letter }));\r\n\r\n    setSubmitting(true);\r\n    try {\r\n      const res = await submitSQAnswer({ questionId: q.id, chosen: letter });\r\n      const correct = !!res?.correct; // —Å–µ—Ä–≤–µ—Ä ‚Äì –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã\r\n      setResults((prev) => ({ ...prev, [q.id]: { correct } }));\r\n    } catch (e) {\r\n      // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏/403 ‚Äî –ø–æ–∫–∞–∂–µ–º –∫–∞–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ —Å–æ—Ö—Ä–∞–Ω–∏–º —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏\r\n      setResults((prev) => ({\r\n        ...prev,\r\n        [q.id]: { correct: false, error: e?.message },\r\n      }));\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: 1..4 ‚Äî –≤—ã–±–æ—Ä, Enter ‚Äî –¥–∞–ª–µ–µ\r\n  React.useEffect(() => {\r\n    if (phase !== \"quiz\") return;\r\n    const handler = (e) => {\r\n      if (!questions[step]) return;\r\n      if (e.key >= \"1\" && e.key <= \"4\") {\r\n        const idx = Number(e.key) - 1;\r\n        if (questions[step]?.options?.[idx] != null) onChoose(step, idx);\r\n      } else if (e.key === \"Enter\") {\r\n        // –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –æ—Ç–≤–µ—Ç ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É\r\n        const qid = questions[step]?.id;\r\n        if (qid && answers[qid]) {\r\n          if (step < questions.length - 1) setStep((s) => s + 1);\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handler);\r\n    return () => window.removeEventListener(\"keydown\", handler);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [phase, step, questions, answers]);\r\n\r\n  // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ: –≤—ã—Ç—è–≥–∏–≤–∞–µ–º summary\r\n  const finish = async () => {\r\n    if (!book) return;\r\n    setPhase(\"result\");\r\n    setSummary(null);\r\n    setSummaryErr(\"\");\r\n    try {\r\n      const s = await fetchSQSummary(book.id);\r\n      // –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –ø–æ–ª—è –ø–æ–¥ –æ–∂–∏–¥–∞–µ–º—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏\r\n      const total =\r\n        Number(s?.total ?? questions.length) || questions.length || 0;\r\n      const correct = Number(s?.correct ?? s?.score ?? 0) || 0;\r\n      const points = Number(s?.points ?? correct) || 0;\r\n      setSummary({ total, correct, points });\r\n    } catch (e) {\r\n      setSummaryErr(e?.message || \"“ö–æ—Ä—ã—Ç—ã–Ω–¥—ã–Ω—ã –∞–ª—É –º“Ø–º–∫—ñ–Ω –±–æ–ª–º–∞–¥—ã.\");\r\n    }\r\n  };\r\n\r\n  const restart = () => {\r\n    setBook(null);\r\n    setQuestions([]);\r\n    setPhase(\"catalog\");\r\n    setStep(0);\r\n    setAnswers({});\r\n    setResults({});\r\n    setSummary(null);\r\n    setSummaryErr(\"\");\r\n  };\r\n\r\n  /* --------------------- –†–µ–Ω–¥–µ—Ä --------------------- */\r\n  const current = questions[step];\r\n  const total = questions.length;\r\n  const progress = total ? Math.round(((step + 1) / total) * 100) : 0;\r\n\r\n  return (\r\n    <div className=\"container mx-auto max-w-6xl px-4 py-10\">\r\n      <motion.h1\r\n        initial={{ opacity: 0, y: 8 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"text-3xl md:text-4xl font-extrabold text-slate-900\"\r\n      >\r\n        Abai Insight (SQ) ‚Äî <span className=\"text-[#f59e0b]\">Server-based Quiz</span>\r\n      </motion.h1>\r\n      <p className=\"mt-2 text-slate-600\">\r\n        –ë–∞—Ä–ª—ã“õ —Å“±—Ä–∞“õ—Ç–∞—Ä –º–µ–Ω —Ç–µ–∫—Å–µ—Ä—É ‚Äî <b>—Å–µ—Ä–≤–µ—Ä–¥–µ–Ω</b>. –¢–∞“£–¥–∞“ì–∞–Ω –∂–∞—É–∞–±—ã“£—ã–∑ ”ô—Ä\r\n        —Å“±—Ä–∞“õ—Ç–∞ –±—ñ—Ä–¥–µ–Ω –∂—ñ–±–µ—Ä—ñ–ª–µ–¥—ñ.\r\n      </p>\r\n\r\n      {/* –ö–ê–¢–ê–õ–û–ì –ö–ù–ò–ì */}\r\n      {phase === \"catalog\" && (\r\n        <div className=\"mt-6\">\r\n          <div className=\"mb-3 flex items-center gap-2\">\r\n            <button\r\n              onClick={loadBooks}\r\n              disabled={loadingBooks}\r\n              className=\"rounded-xl border px-3 py-2 text-sm font-semibold hover:bg-slate-50 disabled:opacity-40\"\r\n            >\r\n              {loadingBooks ? \"–ñ“Ø–∫—Ç–µ–ª—É–¥–µ‚Ä¶\" : \"“ö–∞–π—Ç–∞ –∂“Ø–∫—Ç–µ—É\"}\r\n            </button>\r\n            {booksErr && (\r\n              <span className=\"text-sm text-rose-600\">{booksErr}</span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {books.map((b) => (\r\n              <div\r\n                key={b.id}\r\n                className=\"rounded-2xl border border-slate-200 bg-white p-5 shadow\"\r\n              >\r\n                <div className=\"flex items-start gap-3\">\r\n                    {b.imageUrl ? (\r\n                      <img src={b.imageUrl} alt={b.title} className=\"w-12 h-12 rounded-xl object-cover border\" />\r\n                    ) : (\r\n                      <div className=\"w-12 h-12 rounded-xl bg-gradient-to-r from-amber-100 to-orange-100 flex items-center justify-center text-xl\">\r\n                        üìò\r\n                      </div>\r\n                    )}\r\n                    <div className=\"min-w-0\">\r\n                      <h3 className=\"text-lg font-bold text-slate-900\">\r\n                        {b.title}\r\n                      </h3>\r\n                      <p className=\"text-xs text-slate-500\">{b.author}</p>\r\n                    </div>\r\n                  </div>\r\n                <div className=\"mt-4\">\r\n                  <button\r\n                    onClick={() => startBook(b)}\r\n                    className=\"rounded-xl bg-sky-600 text-white px-4 py-2 text-sm font-semibold\"\r\n                  >\r\n                    –¢–µ—Å—Ç—Ç—ñ –±–∞—Å—Ç–∞—É\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            {!loadingBooks && !booksErr && books.length === 0 && (\r\n              <div className=\"rounded-xl border p-4 text-slate-500\">\r\n                –ö—ñ—Ç–∞–ø—Ç–∞—Ä –∂–æ“õ.\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* –¢–ï–°–¢ */}\r\n      {phase === \"quiz\" && (\r\n        <div className=\"mt-6 rounded-2xl border border-slate-200 bg-white/80 p-5 shadow\">\r\n          <div className=\"flex items-start gap-3\">\r\n            {book?.imageUrl ? (\r\n              <img src={book.imageUrl} alt={book?.title} className=\"w-12 h-12 rounded-xl object-cover\" />\r\n            ) : (\r\n              <div className=\"w-12 h-12 rounded-xl bg-sky-100 flex items-center justify-center text-xl\">\r\n                üìñ\r\n              </div>\r\n            )}\r\n            <div className=\"min-w-0\">\r\n              <h3 className=\"text-xl font-bold text-slate-900\">{book?.title}</h3>\r\n              <p className=\"text-xs text-slate-500\">{book?.author}</p>\r\n            </div>\r\n            <button\r\n              onClick={restart}\r\n              className=\"ml-auto rounded-xl border px-3 py-2 text-sm font-semibold\"\r\n            >\r\n              –ö—ñ—Ç–∞–ø—Ç–∞—Ä“ì–∞ –æ—Ä–∞–ª—É\r\n            </button>\r\n          </div>\r\n\r\n          {loadingQs && (\r\n            <p className=\"mt-4 text-sm text-slate-500\">–°“±—Ä–∞“õ—Ç–∞—Ä –∂“Ø–∫—Ç–µ–ª—É–¥–µ‚Ä¶</p>\r\n          )}\r\n          {qsErr && <div className=\"mt-4 text-sm text-rose-600\">{qsErr}</div>}\r\n\r\n          {!loadingQs && !qsErr && total > 0 && current && (\r\n            <>\r\n              <div className=\"mt-4\">\r\n                <Progress value={progress} />\r\n                <div className=\"mt-2 flex justify-between text-xs text-slate-500\">\r\n                  <span>\r\n                    –°“±—Ä–∞“õ {step + 1} / {total}\r\n                  </span>\r\n                  {submitting && <span>–ñ—ñ–±–µ—Ä—ñ–ª—É–¥–µ‚Ä¶</span>}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-4\">\r\n                <h4 className=\"text-lg font-bold text-slate-900\">\r\n                  {current.prompt}\r\n                </h4>\r\n                {current.imageUrl ? (\r\n                  <div className=\"mt-3 flex justify-center\">\r\n                    <img src={current.imageUrl} alt={current.prompt?.slice(0,120) || 'question image'} className=\"max-h-48 w-auto rounded-lg object-contain border border-slate-200\" />\r\n                  </div>\r\n                ) : null}\r\n                <div className=\"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                  {current.options.map((opt, i) => {\r\n                    const letter = fromIndex(i);\r\n                    const chosen = answers[current.id] === letter;\r\n                    const res = results[current.id];\r\n                    const judged = !!res;\r\n                    const ok = res?.correct === true && chosen;\r\n                    const wrong = judged && chosen && !res?.correct;\r\n\r\n                    return (\r\n                      <button\r\n                        key={`${current.id}-${letter}`}\r\n                        onClick={() => onChoose(step, i)}\r\n                        className={`text-left rounded-xl border-2 p-4 transition ${\r\n                          chosen\r\n                            ? \"border-sky-600 bg-sky-50\"\r\n                            : \"border-slate-200 hover:border-sky-300 hover:bg-sky-50/40\"\r\n                        } ${wrong ? \"border-rose-300 bg-rose-50/50\" : \"\"} ${\r\n                          ok ? \"border-emerald-300 bg-emerald-50/60\" : \"\"\r\n                        }`}\r\n                        disabled={submitting}\r\n                      >\r\n                        <div className=\"flex items-start gap-3\">\r\n                          <div\r\n                            className={`mt-0.5 h-2.5 w-2.5 rounded-full ${\r\n                              chosen ? \"bg-sky-600\" : \"bg-slate-300\"\r\n                            }`}\r\n                          />\r\n                          <span className=\"text-slate-800\">\r\n                            <b>{letter})</b> {opt}\r\n                          </span>\r\n                          {judged && chosen && <Badge ok={!!res?.correct} />}\r\n                        </div>\r\n                      </button>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-6 flex items-center justify-between\">\r\n                <button\r\n                  onClick={() => setStep((s) => Math.max(0, s - 1))}\r\n                  disabled={step === 0}\r\n                  className={`rounded-xl px-4 py-2 font-semibold border ${\r\n                    step === 0\r\n                      ? \"text-slate-400 border-slate-200 cursor-not-allowed\"\r\n                      : \"border-slate-300\"\r\n                  }`}\r\n                >\r\n                  ‚üµ –ê—Ä—Ç“õ–∞\r\n                </button>\r\n                {step < total - 1 ? (\r\n                  <button\r\n                    onClick={() => setStep((s) => Math.min(total - 1, s + 1))}\r\n                    disabled={!answers[current.id]}\r\n                    className={`rounded-xl px-4 py-2 font-semibold ${\r\n                      !answers[current.id]\r\n                        ? \"bg-slate-200 text-slate-500 cursor-not-allowed\"\r\n                        : \"bg-sky-600 text-white\"\r\n                    }`}\r\n                  >\r\n                    –ö–µ–ª–µ—Å—ñ ‚ü∂\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={finish}\r\n                    disabled={Object.keys(answers).length < total}\r\n                    className={`rounded-xl px-4 py-2 font-semibold ${\r\n                      Object.keys(answers).length < total\r\n                        ? \"bg-slate-200 text-slate-500 cursor-not-allowed\"\r\n                        : \"bg-emerald-600 text-white\"\r\n                    }`}\r\n                  >\r\n                    –¢–∞–ø—Å—ã—Ä—É ‚úì\r\n                  </button>\r\n                )}\r\n              </div>\r\n              <p className=\"mt-2 text-xs text-slate-500\">\r\n                –ö–µ“£–µ—Å: 1‚Äì4 –ø–µ—Ä–Ω–µ–ª–µ—Ä—ñ–º–µ–Ω –∂–∞—É–∞–ø—Ç—ã —Ç–∞“£–¥–∞—É“ì–∞, Enter ‚Äî –∫–µ–ª–µ—Å—ñ–≥–µ ”©—Ç—É–≥–µ –±–æ–ª–∞–¥—ã.\r\n              </p>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* –†–ï–ó–£–õ–¨–¢–ê–¢ */}\r\n      {phase === \"result\" && (\r\n        <div className=\"mt-8 rounded-2xl border border-slate-200 bg-white p-6 shadow\">\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center text-xl\">\r\n              üéâ\r\n            </div>\r\n            <div className=\"min-w-0\">\r\n              <h3 className=\"text-xl font-bold text-slate-900\">\r\n                –ù”ô—Ç–∏–∂–µ ‚Äî {book?.title}\r\n              </h3>\r\n              <p className=\"text-xs text-slate-500\">{book?.author}</p>\r\n            </div>\r\n            <button\r\n              onClick={restart}\r\n              className=\"ml-auto rounded-xl border px-3 py-2 text-sm font-semibold\"\r\n            >\r\n              –ö—ñ—Ç–∞–ø—Ç–∞—Ä“ì–∞ –æ—Ä–∞–ª—É\r\n            </button>\r\n          </div>\r\n\r\n          {!summary && !summaryErr && (\r\n            <p className=\"mt-3 text-sm text-slate-500\">“ö–æ—Ä—ã—Ç—ã–Ω–¥—ã –∂“Ø–∫—Ç–µ–ª—É–¥–µ‚Ä¶</p>\r\n          )}\r\n          {summaryErr && (\r\n            <p className=\"mt-3 text-sm text-rose-600\">{summaryErr}</p>\r\n          )}\r\n\r\n          {summary && (\r\n            <>\r\n              <div className=\"mt-4 grid sm:grid-cols-3 gap-3 text-sm\">\r\n                <div className=\"rounded-xl border p-4\">\r\n                  <p className=\"text-slate-500\">–ñ–∞–ª–ø—ã —Å“±—Ä–∞“õ</p>\r\n                  <p className=\"mt-1 font-semibold\">{summary.total}</p>\r\n                </div>\r\n                <div className=\"rounded-xl border p-4\">\r\n                  <p className=\"text-slate-500\">–î“±—Ä—ã—Å—ã</p>\r\n                  <p className=\"mt-1 font-semibold\">{summary.correct}</p>\r\n                </div>\r\n                <div className=\"rounded-xl border p-4\">\r\n                  <p className=\"text-slate-500\">“∞–ø–∞–π</p>\r\n                  <p className=\"mt-1 font-semibold\">{summary.points}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-6\">\r\n                <h4 className=\"font-semibold text-slate-900\">–¢–∞“£–¥–∞–ª“ì–∞–Ω –∂–∞—É–∞–ø—Ç–∞—Ä</h4>\r\n                <div className=\"mt-3 grid gap-3\">\r\n                  {questions.map((q, idx) => {\r\n                    const chosen = answers[q.id];\r\n                    const res = results[q.id];\r\n                    return (\r\n                      <div key={q.id} className=\"rounded-xl border p-4\">\r\n                        <div className=\"flex items-start gap-2\">\r\n                          <span className=\"mt-0.5 text-sm font-semibold text-slate-500\">\r\n                            {idx + 1}.\r\n                          </span>\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"font-medium text-slate-900\">\r\n                              {q.prompt} {res ? <Badge ok={!!res?.correct} /> : null}\r\n                            </p>\r\n                            <p className=\"mt-1 text-sm\">\r\n                              –¢–∞“£–¥–∞–ª“ì–∞–Ω: <b>{chosen ?? \"‚Äî\"}</b>\r\n                              {q.correctLetter ? (\r\n                                <>\r\n                                  {\" \"}\r\n                                  | –î“±—Ä—ã—Å:{\" \"}\r\n                                  <b className=\"text-emerald-700\">{q.correctLetter}</b>\r\n                                </>\r\n                              ) : null}\r\n                            </p>\r\n                            {res?.error && (\r\n                              <p className=\"mt-1 text-xs text-rose-600\">\r\n                                {res.error}\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["API","bookId","LETTERS","fromIndex","i","toLetter","value","c","ensureId","name","v","fetchSQBooks","opts","list","getJSON","fetchSQBookQuestions","id","q","submitSQAnswer","questionId","chosen","qid","letter","postJSON","fetchSQSummary","Progress","jsx","Badge","ok","ThinkHub","books","setBooks","React","loadingBooks","setLoadingBooks","booksErr","setBooksErr","book","setBook","questions","setQuestions","loadingQs","setLoadingQs","qsErr","setQsErr","phase","setPhase","step","setStep","answers","setAnswers","results","setResults","submitting","setSubmitting","summary","setSummary","summaryErr","setSummaryErr","loadBooks","e","startBook","b","qs","onChoose","qIndex","choiceIndex","prev","correct","handler","idx","s","finish","total","points","restart","current","progress","jsxs","motion","Fragment","opt","res","judged","wrong"],"mappings":"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"}