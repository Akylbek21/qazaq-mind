import{r as a,u as y,a as N,b as k,c as C,j as e,m as L,L as M}from"./index-CVxrc5Ku.js";const S=({className:t="w-5 h-5"})=>e.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.036 12.322a1.012 1.012 0 0 1 0-.644C3.423 7.51 7.355 5 12 5c4.645 0 8.577 2.51 9.964 6.678.07.214.07.43 0 .644C20.577 16.49 16.645 19 12 19c-4.645 0-8.577-2.51-9.964-6.678Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),_=({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.98 8.223C5.83 6.084 8.708 5 12 5c4.645 0 8.577 2.51 9.964 6.678.07.214.07.43 0 .644-.457 1.38-1.186 2.62-2.134 3.667M6.94 6.94 3 3m0 0 18 18M3 3l4.243 4.243M9 9a3 3 0 0 0 4.243 4.243"})});function q(){const[t,l]=a.useState({username:"",password:""}),[n,b]=a.useState(!1),[i,d]=a.useState(!1),[c,r]=a.useState(""),[x,u]=a.useState(""),{login:f}=y(),g=N(),j=k(),[o]=C(),w=j.state?.from??"/";a.useEffect(()=>{o.get("expired")==="1"&&r("Сессия истекла. Войдите снова."),o.get("registered")==="1"&&u("Регистрация прошла успешно. Войдите в аккаунт.")},[o]);const v=async s=>{s.preventDefault(),r(""),u("");const m=t.username.trim(),h=t.password;if(!m)return r("Логинді жазыңыз.");if(!h)return r("Құпиясөзді жазыңыз.");d(!0);try{await f({username:m,password:h}),g(w,{replace:!0})}catch(p){r(p?.response?.data?.message||p?.message||"Кіру мүмкін болмады. Кейінірек қайтадан көріңіз.")}finally{d(!1)}};return e.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-slate-50 via-teal-50 to-cyan-50",children:[e.jsx("div",{className:"pointer-events-none absolute -top-24 left-1/2 h-72 w-72 -translate-x-1/2 rounded-full bg-cyan-300/30 blur-3xl"}),e.jsx("div",{className:"pointer-events-none absolute -bottom-24 right-10 h-72 w-72 rounded-full bg-teal-300/30 blur-3xl"}),e.jsx("div",{className:"relative z-10 mx-auto flex min-h-screen max-w-7xl items-center justify-center px-4",children:e.jsxs(L.div,{initial:{opacity:0,y:14},animate:{opacity:1,y:0},transition:{duration:.45,ease:"easeOut"},className:"w-full max-w-md",children:[e.jsxs("div",{className:"rounded-3xl border border-white/60 bg-white/70 p-8 shadow-2xl backdrop-blur-xl",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h1",{className:"bg-gradient-to-r from-teal-600 via-cyan-600 to-sky-600 bg-clip-text text-3xl font-extrabold tracking-tight text-transparent",children:"Qazaq Mind"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Кіру"})]}),x&&e.jsx("div",{className:"mb-4 rounded-xl border border-teal-100 bg-teal-50 px-4 py-3 text-sm text-teal-700",children:x}),c&&e.jsx("div",{className:"mb-4 rounded-xl border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-700",children:c}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Логин"}),e.jsx("input",{className:"w-full rounded-xl border border-slate-200 bg-white/80 px-4 py-3 text-slate-900 outline-none ring-0 transition focus:border-teal-400 focus:bg-white focus:shadow-[0_0_0_4px_rgba(13,148,136,0.08)]",placeholder:"username",value:t.username,onChange:s=>l({...t,username:s.target.value}),autoComplete:"username",required:!0,inputMode:"text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Құпиясөз"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full rounded-xl border border-slate-200 bg-white/80 px-4 py-3 pr-12 text-slate-900 outline-none transition focus:border-teal-400 focus:bg-white focus:shadow-[0_0_0_4px_rgba(13,148,136,0.08)]",placeholder:"password",type:n?"text":"password",value:t.password,onChange:s=>l({...t,password:s.target.value}),autoComplete:"current-password",required:!0}),e.jsx("button",{type:"button",onClick:()=>b(s=>!s),className:"absolute inset-y-0 right-3 my-auto inline-flex h-8 w-8 items-center justify-center rounded-lg text-slate-500 hover:bg-slate-100","aria-label":n?"Құпиясөзді жасыру":"Құпиясөзді көрсету",children:n?e.jsx(_,{}):e.jsx(S,{})})]})]}),e.jsx("button",{type:"submit",disabled:i||!t.username.trim()||!t.password,className:"group relative mt-2 inline-flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-teal-600 to-cyan-600 px-5 py-3 font-semibold text-white shadow-lg transition hover:from-teal-500 hover:to-cyan-500 disabled:cursor-not-allowed disabled:opacity-70",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25 fill-transparent"}),e.jsx("path",{d:"M4 12a8 8 0 0 1 8-8",className:"opacity-75",fill:"currentColor"})]}),"Кіру..."]}):"Войти"})]}),e.jsxs("div",{className:"mt-5 flex items-center justify-between text-sm text-slate-600",children:[e.jsx(M,{to:"/register",className:"rounded-lg px-2 py-1 text-teal-700 hover:bg-teal-50",children:"Аккаунт жоқ па? Тіркелу"}),e.jsx("span",{className:"text-slate-400",children:"•"})]})]}),e.jsxs("div",{className:"mt-6 text-center text-xs text-slate-500",children:["© ",new Date().getFullYear()," Qazaq Mind"]})]})})]})}export{q as default};
//# sourceMappingURL=Login-BW0C5WMC.js.map
