{"version":3,"file":"AtaLink-BLjOkzka.js","sources":["../../src/api/atalink.js","../../src/pages/AtaLink.jsx"],"sourcesContent":["// src/api/atalink.js\r\nimport { getJSON, postJSON } from \"./client\";\r\nimport MOCK_ARTICLES from \"../data/atalinkArticles\";\r\n\r\nexport const API = {\r\n  ARTICLES: \"/api/atalink/articles\",\r\n  ARTICLE:  (id) => `/api/atalink/articles/${id}`,\r\n  QUESTIONS:(id) => `/api/atalink/articles/${id}/questions`,\r\n  ANSWER:   \"/api/atalink/answer\",\r\n  SUMMARY:  (id) => `/api/atalink/articles/${id}/summary`,\r\n};\r\n\r\nconst ensureId = (name, v) => {\r\n  if (v == null || v === \"\" || Number.isNaN(Number(v))) {\r\n    throw new TypeError(`${name}: обязателен и должен быть числом/строкой ID`);\r\n  }\r\n  return v;\r\n};\r\n\r\nconst LETTERS = [\"A\",\"B\",\"C\",\"D\"];\r\nconst toLetterByIndex = (i) => LETTERS[i] ?? null;\r\nconst toLetter = (v) => {\r\n  const c = String(v ?? \"\").trim().toUpperCase();\r\n  if (!LETTERS.includes(c)) throw new TypeError(\"chosen должен быть A/B/C/D\");\r\n  return c;\r\n};\r\n\r\nexport async function fetchAtaArticles(opts = {}) {\r\n  try {\r\n    const list = await getJSON(API.ARTICLES, opts);\r\n    if (Array.isArray(list) && list.length > 0) return list;\r\n    // fallthrough to mock in dev if empty\r\n  } catch (e) {\r\n    // если ошибка и мы в режиме разработки — вернуть мок\r\n    if (import.meta.env && import.meta.env.DEV) {\r\n      return MOCK_ARTICLES;\r\n    }\r\n    throw e;\r\n  }\r\n  // когда сервер вернул пустой массив — в dev используем локальный мок, иначе возвращаем []\r\n  return import.meta.env && import.meta.env.DEV ? MOCK_ARTICLES : [];\r\n}\r\n\r\nexport async function fetchAtaArticle(articleId, opts = {}) {\r\n  const id = ensureId(\"fetchAtaArticle.articleId\", articleId);\r\n  return getJSON(API.ARTICLE(id), opts);\r\n}\r\n\r\nexport async function fetchAtaArticleQuestions(articleId, opts = {}) {\r\n  const id = ensureId(\"fetchAtaArticleQuestions.articleId\", articleId);\r\n  const raw = await getJSON(API.QUESTIONS(id), opts);\r\n  return (Array.isArray(raw) ? raw : []).map((q) => ({\r\n    id: q.id,\r\n    prompt: q.prompt ?? \"\",\r\n    options: [q.optionA, q.optionB, q.optionC, q.optionD].filter(Boolean),\r\n    correctLetter: q.correct ?? null, // обычно бэк не должен отдавать, но у тебя есть — игнорим при подсчёте\r\n    article: q.article,\r\n  }));\r\n}\r\n\r\nexport async function submitAtaAnswer({ questionId, chosen }, opts = {}) {\r\n  const qid = ensureId(\"submitAtaAnswer.questionId\", questionId);\r\n  const letter = toLetter(chosen);\r\n  return postJSON(API.ANSWER, { questionId: qid, chosen: letter }, opts);\r\n}\r\n\r\nexport async function fetchAtaArticleSummary(articleId, opts = {}) {\r\n  const id = ensureId(\"fetchAtaArticleSummary.articleId\", articleId);\r\n  return getJSON(API.SUMMARY(id), opts);\r\n}\r\n\r\nexport const _utils = { toLetterByIndex, toLetter, LETTERS };\r\n\r\nexport default {\r\n  fetchAtaArticles,\r\n  fetchAtaArticle,\r\n  fetchAtaArticleQuestions,\r\n  submitAtaAnswer,\r\n  fetchAtaArticleSummary,\r\n  _utils,\r\n};\r\n","// src/pages/AtaLink.jsx\r\nimport React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  fetchAtaArticles,\r\n  fetchAtaArticle,\r\n  fetchAtaArticleQuestions,\r\n  submitAtaAnswer,\r\n  fetchAtaArticleSummary,\r\n  _utils as ATA,\r\n} from \"@/api/atalink\";\r\n\r\n/* ===================== PERSIST KEYS ===================== */\r\nconst QUIZ_KEY = \"atalink_quiz_stats_v1\";\r\nconst TAB_KEY  = \"atalink_active_tab_v1\";\r\nconst ART_KEY  = \"atalink_active_article_v1\";\r\n\r\n/* ===================== HELPERS ===================== */\r\nfunction load(key, fallback) {\r\n  try { return JSON.parse(localStorage.getItem(key) || \"null\") ?? fallback; }\r\n  catch { return fallback; }\r\n}\r\nfunction save(key, val) {\r\n  localStorage.setItem(key, JSON.stringify(val));\r\n}\r\n/* YouTube → embed */\r\nfunction toYouTubeEmbed(url) {\r\n  try {\r\n    const u = new URL(url);\r\n    if (u.hostname.includes(\"youtube.com\")) {\r\n      const v = u.searchParams.get(\"v\");\r\n      if (v) return `https://www.youtube.com/embed/${v}`;\r\n    }\r\n    if (u.hostname === \"youtu.be\") {\r\n      const id = u.pathname.slice(1);\r\n      if (id) return `https://www.youtube.com/embed/${id}`;\r\n    }\r\n  } catch {}\r\n  return null;\r\n}\r\n/* очень простой markdown→html (только **bold** и переносы) */\r\nfunction mdToHtml(md = \"\") {\r\n  let html = String(md || \"\");\r\n  html = html.replace(/\\*\\*(.+?)\\*\\*/g, \"<strong>$1</strong>\");\r\n  html = html.replace(/\\n/g, \"<br/>\");\r\n  return html;\r\n}\r\n\r\n/* ===================== DATA (локальные секции остаются) ===================== */\r\nconst QUICK_TIPS = [ /* ... как у тебя было ... */ {\r\n  title: \"1) Сүйіспеншілік пен қолдау\",\r\n  bullets: [\r\n    \"«Сен маған маңыздысың», «Саған сенемін» деп күн сайын айту.\",\r\n    \"Іс-әрекетпен көрсету: уақыт бөлу, бірге ойнау.\",\r\n    \"Баланы емес, әрекетін талқылау: «Бұл ісің дұрыс болмады».\",\r\n  ],\r\n}, /* остальные элементы без изменений */ ];\r\n\r\nconst VIDEO_URLS = [\r\n  \"https://www.youtube.com/watch?v=BcusHhHa3DE\",\r\n  \"https://www.youtube.com/watch?v=Ph4V60tlf4o\",\r\n  \"https://www.youtube.com/watch?v=4sXBoarWHbA\",\r\n  \"https://www.youtube.com/watch?v=iC1X6dGuARY\",\r\n];\r\n\r\nconst LAWS = [ /* твои карточки законов — без изменений */ ];\r\n\r\n/* Локальный QUIZ — теперь только как fallback, если API недоступен */\r\nconst LOCAL_QUIZ = [ /* твои 10 вопросов как было */ ];\r\n\r\n/* ===================== MAIN ===================== */\r\nexport default function AtaLink() {\r\n  /* -------- tabs -------- */\r\n  const [tab, setTab] = React.useState(() => load(TAB_KEY, \"tips\"));\r\n  React.useEffect(() => save(TAB_KEY, tab), [tab]);\r\n\r\n  /* -------- server articles -------- */\r\n  const [articles, setArticles] = React.useState([]);\r\n  const [articleId, setArticleId] = React.useState(() => load(ART_KEY, null));\r\n  const [article, setArticle] = React.useState(null);\r\n  const [artLoading, setArtLoading] = React.useState(false);\r\n  const [artErr, setArtErr] = React.useState(\"\");\r\n\r\n  /* -------- server quiz -------- */\r\n  const [srvQuestions, setSrvQuestions] = React.useState([]); // [{id,prompt,options}]\r\n  const [srvLoading, setSrvLoading] = React.useState(false);\r\n  const [srvErr, setSrvErr] = React.useState(\"\");\r\n\r\n  const [quizStep, setQuizStep] = React.useState(0); // 0=intro, 1..N, done=N+1\r\n  const [answers, setAnswers] = React.useState({});  // index -> optionIndex\r\n  const [quizStats, setQuizStats] = React.useState(() =>\r\n    load(QUIZ_KEY, { attempts: 0, best: 0, last: 0 })\r\n  );\r\n\r\n  const isServerMode = srvQuestions.length > 0 || articleId != null;\r\n  const total = isServerMode ? srvQuestions.length : LOCAL_QUIZ.length;\r\n\r\n  const scoreLocal = Object.entries(answers).reduce((a, [i, v]) =>\r\n    a + (LOCAL_QUIZ[+i]?.correct === v ? 1 : 0), 0);\r\n\r\n  /* Итоги сервера */\r\n  const [srvSubmitting, setSrvSubmitting] = React.useState(false);\r\n  const [srvSummary, setSrvSummary] = React.useState(null); // {total, correct}\r\n  const [srvSubmitErr, setSrvSubmitErr] = React.useState(\"\");\r\n\r\n  /* -------- load articles on mount -------- */\r\n  React.useEffect(() => {\r\n    let ignore = false;\r\n    (async () => {\r\n      setArtLoading(true); setArtErr(\"\");\r\n      try {\r\n        const list = await fetchAtaArticles();\r\n        if (ignore) return;\r\n        setArticles(list);\r\n        // выбрать активную: сохранённую или первую\r\n        const nextId = articleId ?? list[0]?.id ?? null;\r\n        setArticleId(nextId);\r\n        if (nextId) save(ART_KEY, nextId);\r\n      } catch (e) {\r\n        if (ignore) return;\r\n        setArtErr(e?.message || \"Мақалалар жүктелмеді (құқық/желіні тексеріңіз).\");\r\n      } finally {\r\n        if (!ignore) setArtLoading(false);\r\n      }\r\n    })();\r\n    return () => { ignore = true; };\r\n  }, []); // один раз\r\n\r\n  /* -------- load selected article & questions -------- */\r\n  React.useEffect(() => {\r\n    let ignore = false;\r\n    if (!articleId) { setArticle(null); setSrvQuestions([]); return; }\r\n\r\n    (async () => {\r\n      setSrvErr(\"\"); setSrvSummary(null);\r\n      try {\r\n        const art = await fetchAtaArticle(articleId);\r\n        if (ignore) return;\r\n        setArticle(art);\r\n      } catch (e) {\r\n        if (ignore) return;\r\n        setArticle(null);\r\n        setSrvErr(e?.message || \"Мақала алынбады.\");\r\n      }\r\n\r\n      try {\r\n        setSrvLoading(true);\r\n        const qs = await fetchAtaArticleQuestions(articleId);\r\n        if (ignore) return;\r\n        setSrvQuestions(qs);\r\n      } catch (e) {\r\n        if (ignore) return;\r\n        setSrvQuestions([]);\r\n        setSrvErr(e?.message || \"Сұрақтар жүктелмеді.\");\r\n      } finally {\r\n        if (!ignore) setSrvLoading(false);\r\n      }\r\n    })();\r\n\r\n    return () => { ignore = true; };\r\n  }, [articleId]);\r\n\r\n  /* -------- quiz helpers -------- */\r\n  const quizStart = () => { setQuizStep(1); setAnswers({}); setSrvSummary(null); setSrvSubmitErr(\"\"); };\r\n  const quizPick  = (idx, optIdx) => setAnswers(p => ({ ...p, [idx]: optIdx }));\r\n  const quizNext  = () => {\r\n    if (quizStep < total) setQuizStep(quizStep + 1);\r\n    else finishQuiz();\r\n  };\r\n  const quizRestart = () => { setQuizStep(0); setAnswers({}); setSrvSummary(null); setSrvSubmitErr(\"\"); };\r\n\r\n  async function finishQuiz() {\r\n    setQuizStep(total + 1);\r\n\r\n    // локальная статистика (для локального теста)\r\n    if (!isServerMode) {\r\n      const attempts = (quizStats.attempts || 0) + 1;\r\n      const best = Math.max(quizStats.best || 0, scoreLocal);\r\n      const next = { attempts, best, last: scoreLocal, lastAt: Date.now() };\r\n      setQuizStats(next); save(QUIZ_KEY, next);\r\n      return;\r\n    }\r\n\r\n    // серверный подсчёт: отправляем ответы + снимаем summary\r\n    if (!articleId || srvQuestions.length === 0) return;\r\n\r\n    setSrvSubmitting(true); setSrvSubmitErr(\"\"); setSrvSummary(null);\r\n    try {\r\n      // отправка каждого ответа\r\n      const jobs = srvQuestions.map((q, i) => {\r\n        const choiceIdx = answers[i];\r\n        const letter = ATA.toLetterByIndex(choiceIdx);\r\n        if (!letter) return null;\r\n        return submitAtaAnswer({ questionId: q.id, chosen: letter });\r\n      }).filter(Boolean);\r\n\r\n      await Promise.allSettled(jobs);\r\n      const sum = await fetchAtaArticleSummary(articleId);\r\n      setSrvSummary({ total: Number(sum?.total ?? srvQuestions.length), correct: Number(sum?.correct ?? 0) });\r\n    } catch (e) {\r\n      setSrvSubmitErr(e?.message || \"Серверлік қорытындыны алу мүмкін болмады.\");\r\n      setSrvSummary(null);\r\n    } finally {\r\n      setSrvSubmitting(false);\r\n    }\r\n  }\r\n\r\n  /* -------- videos embeds -------- */\r\n  const embeds = VIDEO_URLS.map(toYouTubeEmbed).filter(Boolean);\r\n\r\n  return (\r\n    <div className=\"container mx-auto max-w-6xl px-4 py-10\">\r\n      <motion.h1 initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }}\r\n        className=\"text-3xl md:text-4xl font-extrabold text-slate-900\">\r\n        AtaLink — <span className=\"text-[#f59e0b]\">Ата-анамен байланыс (кеңес/тест/видео/заң)</span>\r\n      </motion.h1>\r\n      <p className=\"mt-2 text-slate-600\">\r\n        Мақалалар мен тесттер енді серверден жүктеледі. Қажет болса — локалдық режимге автоматты түрде ауысады.\r\n      </p>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"mt-6 flex flex-wrap gap-2\">\r\n        {[\r\n          [\"tips\",   \"Кеңестер\"],\r\n          [\"quiz\",   \"Тест (мақала)\"],\r\n          [\"videos\", \"Видеолар\"],\r\n          [\"laws\",   \"Заңнама\"],\r\n        ].map(([key, label]) => (\r\n          <button key={key} onClick={() => setTab(key)}\r\n            className={`px-3 py-2 rounded-xl border text-sm font-semibold ${\r\n              tab === key ? \"bg-amber-500 text-white border-amber-500\" : \"border-slate-300\"\r\n            }`}>\r\n            {label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* ============== TAB: TIPS ============== */}\r\n      {tab === \"tips\" && (\r\n        <div className=\"mt-6 grid gap-4\">\r\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4\">\r\n            <h3 className=\"font-bold text-slate-900\">Ата-аналарға арналған кеңестер (ТОП-10)</h3>\r\n            <div className=\"mt-3 grid md:grid-cols-2 gap-3\">\r\n              {QUICK_TIPS.map((t) => (\r\n                <div key={t.title} className=\"rounded-xl border border-slate-200 p-3\">\r\n                  <div className=\"font-semibold text-slate-900\">{t.title}</div>\r\n                  <ul className=\"mt-2 list-disc pl-5 text-sm text-slate-700 space-y-1\">\r\n                    {t.bullets.map((b, i) => <li key={i}>{b}</li>)}\r\n                  </ul>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ============== TAB: QUIZ (SERVER-FIRST) ============== */}\r\n      {tab === \"quiz\" && (\r\n        <div className=\"mt-6 rounded-2xl border border-slate-200 bg-white p-4\">\r\n          <h3 className=\"font-bold text-slate-900\">Тест: мақаланы таңдаңыз да, сұрақтарға жауап беріңіз</h3>\r\n\r\n          {/* Выбор статьи */}\r\n          <div className=\"mt-3 grid gap-3 md:grid-cols-2\">\r\n            <div>\r\n              <label className=\"block text-sm text-slate-600 mb-1\">Мақала</label>\r\n              <select\r\n                value={articleId ?? \"\"}\r\n                onChange={(e) => { const v = e.target.value ? Number(e.target.value) : null; setArticleId(v); save(ART_KEY, v); setQuizStep(0); setAnswers({}); setSrvSummary(null); }}\r\n                className=\"w-full rounded-xl border px-3 py-2\"\r\n              >\r\n                <option value=\"\">— таңдалмаған —</option>\r\n                {articles.map((a) => (\r\n                  <option key={a.id} value={a.id}>{a.title}</option>\r\n                ))}\r\n              </select>\r\n              {artLoading && <div className=\"mt-1 text-sm text-slate-500\">Мақалалар жүктелуде…</div>}\r\n              {artErr && <div className=\"mt-1 text-sm text-rose-600\">{artErr}</div>}\r\n            </div>\r\n\r\n            {/* Короткая сводка статьи */}\r\n            <div className=\"rounded-xl border border-slate-200 p-3\">\r\n              <div className=\"text-sm text-slate-600\">Қысқаша</div>\r\n              <div className=\"mt-1 text-slate-900 font-medium\">{article?.title || \"—\"}</div>\r\n              {article?.summary && <div className=\"mt-1 text-sm text-slate-700\">{article.summary}</div>}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Контент статьи (markdown) */}\r\n          {article?.contentMarkdown && (\r\n            <div className=\"mt-4 rounded-xl border border-slate-200 p-3 bg-white\">\r\n              <div className=\"text-sm text-slate-600 mb-1\">Мазмұны</div>\r\n              <div\r\n                className=\"prose prose-sm max-w-none text-slate-800\"\r\n                dangerouslySetInnerHTML={{ __html: mdToHtml(article.contentMarkdown) }}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Intro */}\r\n          {quizStep === 0 && (\r\n            <div className=\"mt-4\">\r\n              <div className=\"text-slate-600 text-sm\">\r\n                {isServerMode\r\n                  ? \"Мақаланы таңдағаннан кейін «Тесті бастау» батырмасын басыңыз.\"\r\n                  : \"Сервер қолжетімсіз — локалдық тестке ауыстық.\"}\r\n              </div>\r\n              <div className=\"mt-3 flex flex-wrap gap-3 text-sm text-slate-600\">\r\n                <div className=\"rounded-xl border p-3\">Соңғы ұпай: <b>{quizStats.last ?? 0}</b> / {LOCAL_QUIZ.length}</div>\r\n                <div className=\"rounded-xl border p-3\">Ең үздік нәтиже: <b>{quizStats.best ?? 0}</b> / {LOCAL_QUIZ.length}</div>\r\n                <div className=\"rounded-xl border p-3\">Талпыныс саны: <b>{quizStats.attempts ?? 0}</b></div>\r\n              </div>\r\n              <button\r\n                onClick={quizStart}\r\n                disabled={isServerMode && (!articleId || srvLoading || srvQuestions.length === 0)}\r\n                className=\"mt-3 px-4 py-2 rounded-xl bg-amber-500 text-white font-semibold disabled:opacity-40\"\r\n              >\r\n                Тесті бастау\r\n              </button>\r\n              {srvErr && <div className=\"mt-2 text-sm text-rose-600\">{srvErr}</div>}\r\n            </div>\r\n          )}\r\n\r\n          {/* Вопросы */}\r\n          {quizStep > 0 && quizStep <= total && (\r\n            <div className=\"mt-4\">\r\n              <div className=\"text-sm text-slate-600\">Сұрақ {quizStep}/{total}</div>\r\n              <div className=\"mt-2 font-semibold text-slate-900\">\r\n                {isServerMode ? (srvQuestions[quizStep - 1]?.prompt || \"\") : (LOCAL_QUIZ[quizStep - 1].q)}\r\n              </div>\r\n              <div className=\"mt-3 grid gap-2\">\r\n                {(isServerMode ? (srvQuestions[quizStep - 1]?.options || []) : LOCAL_QUIZ[quizStep - 1].options).map((opt, i) => {\r\n                  const checked = answers[quizStep - 1] === i;\r\n                  return (\r\n                    <button\r\n                      key={i}\r\n                      onClick={() => quizPick(quizStep - 1, i)}\r\n                      className={`text-left rounded-xl border px-4 py-3 transition ${\r\n                        checked ? \"border-amber-500 bg-amber-50\" : \"border-slate-200 hover:bg-slate-50\"\r\n                      }`}\r\n                    >\r\n                      {isServerMode ? opt : opt}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              <div className=\"mt-4 flex gap-3\">\r\n                <button\r\n                  onClick={() => setQuizStep((s) => Math.max(1, s - 1))}\r\n                  className=\"px-4 py-2 rounded-xl border border-slate-300 font-semibold\"\r\n                >\r\n                  Артқа\r\n                </button>\r\n                <button\r\n                  onClick={quizNext}\r\n                  disabled={!(quizStep - 1 in answers)}\r\n                  className=\"px-4 py-2 rounded-xl bg-slate-900 text-white font-semibold disabled:opacity-40\"\r\n                >\r\n                  {quizStep < total ? \"Келесі\" : \"Нәтижені көру\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Результат */}\r\n          {quizStep === total + 1 && (\r\n            <div className=\"mt-4\">\r\n              {isServerMode ? (\r\n                <>\r\n                  {srvSubmitting && <div className=\"text-sm text-slate-600\">Серверден тексеру…</div>}\r\n                  {srvSubmitErr && <div className=\"text-sm text-rose-600\">{srvSubmitErr}</div>}\r\n                  <div className=\"text-xl font-bold text-slate-900\">\r\n                    Нәтиже: {srvSummary?.correct ?? 0} / {srvSummary?.total ?? total}\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div className=\"text-xl font-bold text-slate-900\">\r\n                    Нәтиже: {scoreLocal} / {LOCAL_QUIZ.length}\r\n                  </div>\r\n                  <p className=\"mt-1 text-slate-700\">\r\n                    {scoreLocal <= 4\r\n                      ? \"Базалық түсініктер қалыптасқан. Кеңестерді қарап шығыңыз.\"\r\n                      : scoreLocal <= 8\r\n                      ? \"Жақсы! Тыңдау мен сенімге мән беріңіз.\"\r\n                      : \"Керемет! Үлгілік тәрбие — осы қарқынмен жалғастырыңыз.\"}\r\n                  </p>\r\n                </>\r\n              )}\r\n\r\n              {/* Review для локального (для сервера ответа «правильный» бэк хранит сам) */}\r\n              {!isServerMode && (\r\n                <div className=\"mt-4 grid gap-3\">\r\n                  {LOCAL_QUIZ.map((qq, idx) => {\r\n                    const your = answers[idx];\r\n                    const ok = your === qq.correct;\r\n                    return (\r\n                      <div key={idx} className={`rounded-xl border p-3 ${ok ? \"border-emerald-200 bg-emerald-50/60\" : \"border-rose-200 bg-rose-50/60\"}`}>\r\n                        <div className=\"font-medium text-slate-900\">{qq.q}</div>\r\n                        <div className=\"mt-1 text-sm\">\r\n                          Таңдалған: <b className={ok ? \"text-emerald-700\" : \"text-rose-700\"}>\r\n                            {your != null ? qq.options[your] : \"—\"}\r\n                          </b>{\" \"}\r\n                          | Дұрыс: <b className=\"text-emerald-700\">{qq.options[qq.correct]}</b>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"mt-4 flex gap-3\">\r\n                <button onClick={quizStart} className=\"px-4 py-2 rounded-xl bg-amber-500 text-white font-semibold\">Қайта өту</button>\r\n                <button onClick={quizRestart} className=\"px-4 py-2 rounded-xl border border-slate-300 font-semibold\">Басты экран</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* ============== TAB: VIDEOS ============== */}\r\n      {tab === \"videos\" && (\r\n        <div className=\"mt-6 rounded-2xl border border-slate-200 bg-white p-4\">\r\n          <h3 className=\"font-bold text-slate-900\">Бала тәрбиесі туралы видеолар</h3>\r\n          <div className=\"mt-3 grid md:grid-cols-2 gap-4\">\r\n            {embeds.map((src, i) => (\r\n              <div key={i} className=\"rounded-xl overflow-hidden border border-slate-200 bg-black/5 aspect-video\">\r\n                <iframe\r\n                  title={`video-${i}`}\r\n                  src={src}\r\n                  className=\"w-full h-full\"\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"mt-3 text-xs text-slate-500\">Ескерту: Видеолар YouTube платформасынан ендірілді.</div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ============== TAB: LAWS ============== */}\r\n      {tab === \"laws\" && (\r\n        <div className=\"mt-6 grid gap-4\">\r\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4\">\r\n            <h3 className=\"font-bold text-slate-900\">Ата-ана міндеттері туралы заңнамалар (қысқаша)</h3>\r\n            <p className=\"mt-1 text-sm text-slate-600\">\r\n              Бұл бөлім ақпараттық сипатта. Нақты жағдайға қатысты ресми дереккөздер мен маманға жүгініңіз.\r\n            </p>\r\n\r\n            <div className=\"mt-3 space-y-3\">\r\n              {LAWS.map((l, idx) => (\r\n                <details key={idx} className=\"rounded-xl border border-slate-200 p-3\">\r\n                  <summary className=\"cursor-pointer font-semibold text-slate-900\">{l.title}</summary>\r\n                  <ul className=\"mt-2 list-disc pl-5 text-sm text-slate-700 space-y-1\">\r\n                    {l.points.map((p, i) => <li key={i}>{p}</li>)}\r\n                  </ul>\r\n                </details>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4\">\r\n            <h4 className=\"font-semibold text-slate-900\">Ескерту</h4>\r\n            <p className=\"mt-1 text-sm text-slate-600\">\r\n              Айыппұл мөлшерлері АЕК-ке (айлық есептік көрсеткіш) байланған. АЕК жыл сайын өзгеруі мүмкін.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["API","id","ensureId","name","v","LETTERS","toLetterByIndex","i","toLetter","c","fetchAtaArticles","opts","list","getJSON","e","fetchAtaArticle","articleId","fetchAtaArticleQuestions","raw","q","submitAtaAnswer","questionId","chosen","qid","letter","postJSON","fetchAtaArticleSummary","_utils","QUIZ_KEY","TAB_KEY","ART_KEY","load","key","fallback","save","val","toYouTubeEmbed","url","u","mdToHtml","md","html","QUICK_TIPS","VIDEO_URLS","LAWS","LOCAL_QUIZ","AtaLink","tab","setTab","React","articles","setArticles","setArticleId","article","setArticle","artLoading","setArtLoading","artErr","setArtErr","srvQuestions","setSrvQuestions","srvLoading","setSrvLoading","srvErr","setSrvErr","quizStep","setQuizStep","answers","setAnswers","quizStats","setQuizStats","isServerMode","total","scoreLocal","a","srvSubmitting","setSrvSubmitting","srvSummary","setSrvSummary","srvSubmitErr","setSrvSubmitErr","ignore","nextId","art","qs","quizStart","quizPick","idx","optIdx","p","quizNext","finishQuiz","quizRestart","attempts","best","next","jobs","choiceIdx","ATA","sum","embeds","jsxs","motion","jsx","label","b","opt","checked","s","Fragment","qq","your","ok","src","l"],"mappings":"wGAIO,MAAMA,EAAM,CACjB,SAAU,wBACV,QAAWC,GAAO,yBAAyBA,CAAE,GAC7C,UAAWA,GAAO,yBAAyBA,CAAE,aAC7C,OAAU,sBACV,QAAWA,GAAO,yBAAyBA,CAAE,UAC/C,EAEMC,EAAW,CAACC,EAAMC,IAAM,CAC5B,GAAIA,GAAK,MAAQA,IAAM,IAAM,OAAO,MAAM,OAAOA,CAAC,CAAC,EACjD,MAAM,IAAI,UAAU,GAAGD,CAAI,8CAA8C,EAE3E,OAAOC,CACT,EAEMC,EAAU,CAAC,IAAI,IAAI,IAAI,GAAG,EAC1BC,GAAmBC,GAAMF,EAAQE,CAAC,GAAK,KACvCC,EAAYJ,GAAM,CACtB,MAAMK,EAAI,OAAOL,GAAK,EAAE,EAAE,KAAA,EAAO,YAAA,EACjC,GAAI,CAACC,EAAQ,SAASI,CAAC,EAAG,MAAM,IAAI,UAAU,4BAA4B,EAC1E,OAAOA,CACT,EAEA,eAAsBC,GAAiBC,EAAO,GAAI,CAChD,GAAI,CACF,MAAMC,EAAO,MAAMC,EAAQb,EAAI,SAAUW,CAAI,EAC7C,GAAI,MAAM,QAAQC,CAAI,GAAKA,EAAK,OAAS,EAAG,OAAOA,CAErD,OAASE,EAAG,CAKV,MAAMA,CACR,CAEA,MAAgE,CAAA,CAClE,CAEA,eAAsBC,GAAgBC,EAAWL,EAAO,GAAI,CAC1D,MAAMV,EAAKC,EAAS,4BAA6Bc,CAAS,EAC1D,OAAOH,EAAQb,EAAI,QAAQC,CAAE,EAAGU,CAAI,CACtC,CAEA,eAAsBM,GAAyBD,EAAWL,EAAO,GAAI,CACnE,MAAMV,EAAKC,EAAS,qCAAsCc,CAAS,EAC7DE,EAAM,MAAML,EAAQb,EAAI,UAAUC,CAAE,EAAGU,CAAI,EACjD,OAAQ,MAAM,QAAQO,CAAG,EAAIA,EAAM,CAAA,GAAI,IAAKC,IAAO,CACjD,GAAIA,EAAE,GACN,OAAQA,EAAE,QAAU,GACpB,QAAS,CAACA,EAAE,QAASA,EAAE,QAASA,EAAE,QAASA,EAAE,OAAO,EAAE,OAAO,OAAO,EACpE,cAAeA,EAAE,SAAW,KAC5B,QAASA,EAAE,OAAA,EACX,CACJ,CAEA,eAAsBC,GAAgB,CAAE,WAAAC,EAAY,OAAAC,GAAUX,EAAO,CAAA,EAAI,CACvE,MAAMY,EAAMrB,EAAS,6BAA8BmB,CAAU,EACvDG,EAAShB,EAASc,CAAM,EAC9B,OAAOG,GAASzB,EAAI,OAAQ,CAAE,WAAYuB,EAAK,OAAQC,CAAA,EAAUb,CAAI,CACvE,CAEA,eAAsBe,GAAuBV,EAAWL,EAAO,GAAI,CACjE,MAAMV,EAAKC,EAAS,mCAAoCc,CAAS,EACjE,OAAOH,EAAQb,EAAI,QAAQC,CAAE,EAAGU,CAAI,CACtC,CAEO,MAAMgB,GAAS,CAAE,gBAAArB,GAAiB,SAAAE,EAAU,QAAAH,CAAA,EC1D7CuB,EAAW,wBACXC,EAAW,wBACXC,EAAW,4BAGjB,SAASC,EAAKC,EAAKC,EAAU,CAC3B,GAAI,CAAE,OAAO,KAAK,MAAM,aAAa,QAAQD,CAAG,GAAK,MAAM,GAAKC,CAAU,MACpE,CAAE,OAAOA,CAAU,CAC3B,CACA,SAASC,EAAKF,EAAKG,EAAK,CACtB,aAAa,QAAQH,EAAK,KAAK,UAAUG,CAAG,CAAC,CAC/C,CAEA,SAASC,GAAeC,EAAK,CAC3B,GAAI,CACF,MAAMC,EAAI,IAAI,IAAID,CAAG,EACrB,GAAIC,EAAE,SAAS,SAAS,aAAa,EAAG,CACtC,MAAMlC,EAAIkC,EAAE,aAAa,IAAI,GAAG,EAChC,GAAIlC,EAAG,MAAO,iCAAiCA,CAAC,EAClD,CACA,GAAIkC,EAAE,WAAa,WAAY,CAC7B,MAAMrC,EAAKqC,EAAE,SAAS,MAAM,CAAC,EAC7B,GAAIrC,EAAI,MAAO,iCAAiCA,CAAE,EACpD,CACF,MAAQ,CAAC,CACT,OAAO,IACT,CAEA,SAASsC,GAASC,EAAK,GAAI,CACzB,IAAIC,EAAO,OAAOD,GAAM,EAAE,EAC1B,OAAAC,EAAOA,EAAK,QAAQ,iBAAkB,qBAAqB,EAC3DA,EAAOA,EAAK,QAAQ,MAAO,OAAO,EAC3BA,CACT,CAGA,MAAMC,GAAa,CAAgC,CACjD,MAAO,8BACP,QAAS,CACP,8DACA,iDACA,2DAAA,CACF,CACwC,EAEpCC,GAAa,CACjB,8CACA,8CACA,8CACA,6CACF,EAEMC,GAAO,CAA8C,EAGrDC,EAAa,CAAkC,EAGrD,SAAwBC,IAAU,CAEhC,KAAM,CAACC,EAAKC,CAAM,EAAIC,EAAM,SAAS,IAAMlB,EAAKF,EAAS,MAAM,CAAC,EAChEoB,EAAM,UAAU,IAAMf,EAAKL,EAASkB,CAAG,EAAG,CAACA,CAAG,CAAC,EAG/C,KAAM,CAACG,EAAUC,CAAW,EAAIF,EAAM,SAAS,CAAA,CAAE,EAC3C,CAACjC,EAAWoC,CAAY,EAAIH,EAAM,SAAS,IAAMlB,EAAKD,EAAS,IAAI,CAAC,EACpE,CAACuB,EAASC,CAAU,EAAIL,EAAM,SAAS,IAAI,EAC3C,CAACM,EAAYC,CAAa,EAAIP,EAAM,SAAS,EAAK,EAClD,CAACQ,EAAQC,CAAS,EAAIT,EAAM,SAAS,EAAE,EAGvC,CAACU,EAAcC,CAAe,EAAIX,EAAM,SAAS,CAAA,CAAE,EACnD,CAACY,EAAYC,CAAa,EAAIb,EAAM,SAAS,EAAK,EAClD,CAACc,EAAQC,CAAS,EAAIf,EAAM,SAAS,EAAE,EAEvC,CAACgB,EAAUC,CAAW,EAAIjB,EAAM,SAAS,CAAC,EAC1C,CAACkB,EAASC,CAAU,EAAInB,EAAM,SAAS,CAAA,CAAE,EACzC,CAACoB,EAAWC,CAAY,EAAIrB,EAAM,SAAS,IAC/ClB,EAAKH,EAAU,CAAE,SAAU,EAAG,KAAM,EAAG,KAAM,CAAA,CAAG,CAAA,EAG5C2C,EAAeZ,EAAa,OAAS,GAAK3C,GAAa,KACvDwD,EAAQD,EAAeZ,EAAa,OAASd,EAAW,OAExD4B,EAAa,OAAO,QAAQN,CAAO,EAAE,OAAO,CAACO,EAAG,CAACnE,EAAGH,CAAC,IACzDsE,GAAK7B,EAAW,CAACtC,CAAC,GAAG,UAAYH,EAAI,EAAI,GAAI,CAAC,EAG1C,CAACuE,EAAeC,CAAgB,EAAI3B,EAAM,SAAS,EAAK,EACxD,CAAC4B,EAAYC,CAAa,EAAI7B,EAAM,SAAS,IAAI,EACjD,CAAC8B,EAAcC,CAAe,EAAI/B,EAAM,SAAS,EAAE,EAGzDA,EAAM,UAAU,IAAM,CACpB,IAAIgC,EAAS,GACb,OAAC,SAAY,CACXzB,EAAc,EAAI,EAAGE,EAAU,EAAE,EACjC,GAAI,CACF,MAAM9C,EAAO,MAAMF,GAAA,EACnB,GAAIuE,EAAQ,OACZ9B,EAAYvC,CAAI,EAEhB,MAAMsE,EAASlE,GAAaJ,EAAK,CAAC,GAAG,IAAM,KAC3CwC,EAAa8B,CAAM,EACfA,GAAQhD,EAAKJ,EAASoD,CAAM,CAClC,OAASpE,EAAG,CACV,GAAImE,EAAQ,OACZvB,EAAU5C,GAAG,SAAW,iDAAiD,CAC3E,QAAA,CACOmE,GAAQzB,EAAc,EAAK,CAClC,CACF,GAAA,EACO,IAAM,CAAEyB,EAAS,EAAM,CAChC,EAAG,CAAA,CAAE,EAGLhC,EAAM,UAAU,IAAM,CACpB,IAAIgC,EAAS,GACb,GAAI,CAACjE,EAAW,CAAEsC,EAAW,IAAI,EAAGM,EAAgB,CAAA,CAAE,EAAG,MAAQ,CAEjE,OAAC,SAAY,CACXI,EAAU,EAAE,EAAGc,EAAc,IAAI,EACjC,GAAI,CACF,MAAMK,EAAM,MAAMpE,GAAgBC,CAAS,EAC3C,GAAIiE,EAAQ,OACZ3B,EAAW6B,CAAG,CAChB,OAASrE,EAAG,CACV,GAAImE,EAAQ,OACZ3B,EAAW,IAAI,EACfU,EAAUlD,GAAG,SAAW,kBAAkB,CAC5C,CAEA,GAAI,CACFgD,EAAc,EAAI,EAClB,MAAMsB,EAAK,MAAMnE,GAAyBD,CAAS,EACnD,GAAIiE,EAAQ,OACZrB,EAAgBwB,CAAE,CACpB,OAAStE,EAAG,CACV,GAAImE,EAAQ,OACZrB,EAAgB,CAAA,CAAE,EAClBI,EAAUlD,GAAG,SAAW,sBAAsB,CAChD,QAAA,CACOmE,GAAQnB,EAAc,EAAK,CAClC,CACF,GAAA,EAEO,IAAM,CAAEmB,EAAS,EAAM,CAChC,EAAG,CAACjE,CAAS,CAAC,EAGd,MAAMqE,EAAY,IAAM,CAAEnB,EAAY,CAAC,EAAGE,EAAW,CAAA,CAAE,EAAGU,EAAc,IAAI,EAAGE,EAAgB,EAAE,CAAG,EAC9FM,EAAY,CAACC,EAAKC,IAAWpB,EAAWqB,IAAM,CAAE,GAAGA,EAAG,CAACF,CAAG,EAAGC,GAAS,EACtEE,EAAY,IAAM,CAClBzB,EAAWO,EAAON,EAAYD,EAAW,CAAC,EACzC0B,GAAA,CACP,EACMC,GAAc,IAAM,CAAE1B,EAAY,CAAC,EAAGE,EAAW,CAAA,CAAE,EAAGU,EAAc,IAAI,EAAGE,EAAgB,EAAE,CAAG,EAEtG,eAAeW,IAAa,CAI1B,GAHAzB,EAAYM,EAAQ,CAAC,EAGjB,CAACD,EAAc,CACjB,MAAMsB,GAAYxB,EAAU,UAAY,GAAK,EACvCyB,EAAO,KAAK,IAAIzB,EAAU,MAAQ,EAAGI,CAAU,EAC/CsB,EAAO,CAAE,SAAAF,EAAU,KAAAC,EAAM,KAAMrB,EAAY,OAAQ,KAAK,KAAI,EAClEH,EAAayB,CAAI,EAAG7D,EAAKN,EAAUmE,CAAI,EACvC,MACF,CAGA,GAAI,GAAC/E,GAAa2C,EAAa,SAAW,GAE1C,CAAAiB,EAAiB,EAAI,EAAGI,EAAgB,EAAE,EAAGF,EAAc,IAAI,EAC/D,GAAI,CAEF,MAAMkB,EAAOrC,EAAa,IAAI,CAACxC,EAAGZ,IAAM,CACtC,MAAM0F,GAAY9B,EAAQ5D,CAAC,EACrBiB,EAAS0E,GAAI,gBAAgBD,EAAS,EAC5C,OAAKzE,EACEJ,GAAgB,CAAE,WAAYD,EAAE,GAAI,OAAQK,EAAQ,EADvC,IAEtB,CAAC,EAAE,OAAO,OAAO,EAEjB,MAAM,QAAQ,WAAWwE,CAAI,EAC7B,MAAMG,EAAM,MAAMzE,GAAuBV,CAAS,EAClD8D,EAAc,CAAE,MAAO,OAAOqB,GAAK,OAASxC,EAAa,MAAM,EAAG,QAAS,OAAOwC,GAAK,SAAW,CAAC,EAAG,CACxG,OAASrF,EAAG,CACVkE,EAAgBlE,GAAG,SAAW,2CAA2C,EACzEgE,EAAc,IAAI,CACpB,QAAA,CACEF,EAAiB,EAAK,CACxB,EACF,CAGA,MAAMwB,GAASzD,GAAW,IAAIP,EAAc,EAAE,OAAO,OAAO,EAE5D,OACEiE,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAACC,GAAO,GAAP,CAAU,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAAK,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAClE,UAAU,qDAAqD,SAAA,CAAA,aACrDC,EAAAA,IAAC,OAAA,CAAK,UAAU,iBAAiB,SAAA,4CAAA,CAA0C,CAAA,CAAA,CAAA,EAEvFA,EAAAA,IAAC,IAAA,CAAE,UAAU,sBAAsB,SAAA,0GAEnC,EAGAA,EAAAA,IAAC,MAAA,CAAI,UAAU,4BACZ,SAAA,CACC,CAAC,OAAU,UAAU,EACrB,CAAC,OAAU,eAAe,EAC1B,CAAC,SAAU,UAAU,EACrB,CAAC,OAAU,SAAS,CAAA,EACpB,IAAI,CAAC,CAACvE,EAAKwE,CAAK,IAChBD,EAAAA,IAAC,SAAA,CAAiB,QAAS,IAAMvD,EAAOhB,CAAG,EACzC,UAAW,qDACTe,IAAQf,EAAM,2CAA6C,kBAC7D,GACC,SAAAwE,CAAA,EAJUxE,CAAA,CAMd,EACH,EAGCe,IAAQ,QACPwD,EAAAA,IAAC,MAAA,CAAI,UAAU,kBACb,SAAAF,EAAAA,KAAC,MAAA,CAAI,UAAU,mDACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,2BAA2B,SAAA,0CAAuC,EAChFA,EAAAA,IAAC,MAAA,CAAI,UAAU,iCACZ,SAAA7D,GAAW,IAAK,GACf2D,EAAAA,KAAC,MAAA,CAAkB,UAAU,yCAC3B,SAAA,CAAAE,EAAAA,IAAC,MAAA,CAAI,UAAU,+BAAgC,SAAA,EAAE,MAAM,EACvDA,EAAAA,IAAC,KAAA,CAAG,UAAU,uDACX,WAAE,QAAQ,IAAI,CAACE,EAAGlG,IAAMgG,EAAAA,IAAC,KAAA,CAAY,SAAAE,CAAA,EAAJlG,CAAM,CAAK,CAAA,CAC/C,CAAA,GAJQ,EAAE,KAKZ,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,EAIDwC,IAAQ,QACPsD,OAAC,MAAA,CAAI,UAAU,wDACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,2BAA2B,SAAA,uDAAoD,EAG7FF,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,QAAA,CAAM,UAAU,oCAAoC,SAAA,SAAM,EAC3DF,EAAAA,KAAC,SAAA,CACC,MAAOrF,GAAa,GACpB,SAAWF,GAAM,CAAE,MAAMV,EAAIU,EAAE,OAAO,MAAQ,OAAOA,EAAE,OAAO,KAAK,EAAI,KAAMsC,EAAahD,CAAC,EAAG8B,EAAKJ,EAAS1B,CAAC,EAAG8D,EAAY,CAAC,EAAGE,EAAW,CAAA,CAAE,EAAGU,EAAc,IAAI,CAAG,EACrK,UAAU,qCAEV,SAAA,CAAAyB,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,kBAAe,EAC/BrD,EAAS,IAAKwB,GACb6B,EAAAA,IAAC,SAAA,CAAkB,MAAO7B,EAAE,GAAK,SAAAA,EAAE,KAAA,EAAtBA,EAAE,EAA0B,CAC1C,CAAA,CAAA,CAAA,EAEFnB,GAAcgD,EAAAA,IAAC,MAAA,CAAI,UAAU,8BAA8B,SAAA,uBAAoB,EAC/E9C,GAAU8C,EAAAA,IAAC,MAAA,CAAI,UAAU,6BAA8B,SAAA9C,CAAA,CAAO,CAAA,EACjE,EAGA4C,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAE,EAAAA,IAAC,MAAA,CAAI,UAAU,yBAAyB,SAAA,UAAO,QAC9C,MAAA,CAAI,UAAU,kCAAmC,SAAAlD,GAAS,OAAS,IAAI,EACvEA,GAAS,SAAWkD,EAAAA,IAAC,OAAI,UAAU,8BAA+B,WAAQ,OAAA,CAAQ,CAAA,CAAA,CACrF,CAAA,EACF,EAGClD,GAAS,iBACRgD,OAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAE,EAAAA,IAAC,MAAA,CAAI,UAAU,8BAA8B,SAAA,UAAO,EACpDA,EAAAA,IAAC,MAAA,CACC,UAAU,2CACV,wBAAyB,CAAE,OAAQhE,GAASc,EAAQ,eAAe,CAAA,CAAE,CAAA,CACvE,EACF,EAIDY,IAAa,GACZoC,OAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAE,MAAC,MAAA,CAAI,UAAU,yBACZ,SAAAhC,EACG,gEACA,gDACN,EACA8B,EAAAA,KAAC,MAAA,CAAI,UAAU,mDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,CAAA,eAAYE,EAAAA,IAAC,IAAA,CAAG,SAAAlC,EAAU,MAAQ,EAAE,EAAI,MAAIxB,EAAW,MAAA,EAAO,EACrGwD,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,CAAA,oBAAiBE,EAAAA,IAAC,IAAA,CAAG,SAAAlC,EAAU,MAAQ,EAAE,EAAI,MAAIxB,EAAW,MAAA,EAAO,EAC1GwD,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,CAAA,kBAAeE,EAAAA,IAAC,IAAA,CAAG,SAAAlC,EAAU,UAAY,CAAA,CAAE,CAAA,CAAA,CAAI,CAAA,EACxF,EACAkC,EAAAA,IAAC,SAAA,CACC,QAASlB,EACT,SAAUd,IAAiB,CAACvD,GAAa6C,GAAcF,EAAa,SAAW,GAC/E,UAAU,sFACX,SAAA,cAAA,CAAA,EAGAI,GAAUwC,EAAAA,IAAC,MAAA,CAAI,UAAU,6BAA8B,SAAAxC,CAAA,CAAO,CAAA,EACjE,EAIDE,EAAW,GAAKA,GAAYO,GAC3B6B,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBAAyB,SAAA,CAAA,SAAOpC,EAAS,IAAEO,CAAA,EAAM,EAChE+B,EAAAA,IAAC,MAAA,CAAI,UAAU,oCACZ,WAAgB5C,EAAaM,EAAW,CAAC,GAAG,QAAU,GAAOpB,EAAWoB,EAAW,CAAC,EAAE,EACzF,EACAsC,MAAC,OAAI,UAAU,kBACX,YAAgB5C,EAAaM,EAAW,CAAC,GAAG,SAAW,CAAA,EAAMpB,EAAWoB,EAAW,CAAC,EAAE,SAAS,IAAI,CAACyC,EAAKnG,IAAM,CAC/G,MAAMoG,EAAUxC,EAAQF,EAAW,CAAC,IAAM1D,EAC1C,OACEgG,EAAAA,IAAC,SAAA,CAEC,QAAS,IAAMjB,EAASrB,EAAW,EAAG1D,CAAC,EACvC,UAAW,oDACToG,EAAU,+BAAiC,oCAC7C,GAEC,SAAeD,CAAM,EANjBnG,CAAA,CASX,CAAC,CAAA,CACH,EAEA8F,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAE,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMrC,EAAa0C,GAAM,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EACpD,UAAU,6DACX,SAAA,OAAA,CAAA,EAGDL,EAAAA,IAAC,SAAA,CACC,QAASb,EACT,SAAU,EAAEzB,EAAW,KAAKE,GAC5B,UAAU,iFAET,SAAAF,EAAWO,EAAQ,SAAW,eAAA,CAAA,CACjC,CAAA,CACF,CAAA,EACF,EAIDP,IAAaO,EAAQ,GACpB6B,EAAAA,KAAC,MAAA,CAAI,UAAU,OACZ,SAAA,CAAA9B,EACC8B,EAAAA,KAAAQ,WAAA,CACG,SAAA,CAAAlC,GAAiB4B,EAAAA,IAAC,MAAA,CAAI,UAAU,yBAAyB,SAAA,qBAAkB,EAC3ExB,GAAgBwB,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAyB,SAAAxB,EAAa,EACtEsB,EAAAA,KAAC,MAAA,CAAI,UAAU,mCAAmC,SAAA,CAAA,WACvCxB,GAAY,SAAW,EAAE,MAAIA,GAAY,OAASL,CAAA,CAAA,CAC7D,CAAA,CAAA,CACF,EAEA6B,EAAAA,KAAAQ,EAAAA,SAAA,CACE,SAAA,CAAAR,EAAAA,KAAC,MAAA,CAAI,UAAU,mCAAmC,SAAA,CAAA,WACvC5B,EAAW,MAAI5B,EAAW,MAAA,EACrC,EACA0D,EAAAA,IAAC,IAAA,CAAE,UAAU,sBACV,SAAA9B,GAAc,EACX,4DACAA,GAAc,EACd,yCACA,wDAAA,CACN,CAAA,EACF,EAID,CAACF,GACAgC,EAAAA,IAAC,MAAA,CAAI,UAAU,kBACZ,SAAA1D,EAAW,IAAI,CAACiE,EAAIvB,IAAQ,CAC3B,MAAMwB,EAAO5C,EAAQoB,CAAG,EAClByB,EAAKD,IAASD,EAAG,QACvB,cACG,MAAA,CAAc,UAAW,yBAAyBE,EAAK,sCAAwC,+BAA+B,GAC7H,SAAA,CAAAT,EAAAA,IAAC,MAAA,CAAI,UAAU,6BAA8B,SAAAO,EAAG,EAAE,EAClDT,EAAAA,KAAC,MAAA,CAAI,UAAU,eAAe,SAAA,CAAA,cACjBE,EAAAA,IAAC,IAAA,CAAE,UAAWS,EAAK,mBAAqB,gBAChD,SAAAD,GAAQ,KAAOD,EAAG,QAAQC,CAAI,EAAI,GAAA,CACrC,EAAK,IAAI,YACAR,MAAC,KAAE,UAAU,mBAAoB,WAAG,QAAQO,EAAG,OAAO,CAAA,CAAE,CAAA,CAAA,CACnE,CAAA,CAAA,EAPQvB,CAQV,CAEJ,CAAC,CAAA,CACH,EAGFc,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAE,MAAC,SAAA,CAAO,QAASlB,EAAW,UAAU,6DAA6D,SAAA,YAAS,QAC3G,SAAA,CAAO,QAASO,GAAa,UAAU,6DAA6D,SAAA,aAAA,CAAW,CAAA,CAAA,CAClH,CAAA,CAAA,CACF,CAAA,EAEJ,EAID7C,IAAQ,UACPsD,OAAC,MAAA,CAAI,UAAU,wDACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,2BAA2B,SAAA,gCAA6B,EACtEA,EAAAA,IAAC,MAAA,CAAI,UAAU,iCACZ,SAAAH,GAAO,IAAI,CAACa,EAAK1G,IAChBgG,EAAAA,IAAC,MAAA,CAAY,UAAU,6EACrB,SAAAA,EAAAA,IAAC,SAAA,CACC,MAAO,SAAShG,CAAC,GACjB,IAAA0G,EACA,UAAU,gBACV,MAAM,2FACN,gBAAe,EAAA,CAAA,GANT1G,CAQV,CACD,EACH,EACAgG,EAAAA,IAAC,MAAA,CAAI,UAAU,8BAA8B,SAAA,qDAAA,CAAmD,CAAA,EAClG,EAIDxD,IAAQ,QACPsD,OAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mDACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,2BAA2B,SAAA,iDAA8C,EACvFA,EAAAA,IAAC,IAAA,CAAE,UAAU,8BAA8B,SAAA,gGAE3C,EAEAA,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACZ,SAAA3D,GAAK,IAAI,CAACsE,EAAG3B,IACZc,EAAAA,KAAC,UAAA,CAAkB,UAAU,yCAC3B,SAAA,CAAAE,EAAAA,IAAC,UAAA,CAAQ,UAAU,8CAA+C,SAAAW,EAAE,MAAM,EAC1EX,EAAAA,IAAC,KAAA,CAAG,UAAU,uDACX,WAAE,OAAO,IAAI,CAACd,EAAGlF,IAAMgG,EAAAA,IAAC,KAAA,CAAY,SAAAd,CAAA,EAAJlF,CAAM,CAAK,CAAA,CAC9C,CAAA,CAAA,EAJYgF,CAKd,CACD,CAAA,CACH,CAAA,EACF,EAEAc,EAAAA,KAAC,MAAA,CAAI,UAAU,mDACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,+BAA+B,SAAA,UAAO,EACpDA,EAAAA,IAAC,IAAA,CAAE,UAAU,8BAA8B,SAAA,8FAAA,CAE3C,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAEJ,CAEJ"}