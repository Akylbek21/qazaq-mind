{"version":3,"file":"HistoricalQuiz-CSpUaKcK.js","sources":["../../src/components/ChatModal.jsx","../../src/pages/HistoricalQuiz.jsx"],"sourcesContent":["import React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { SendIcon } from './Icons';\r\n\r\nconst ChatModal = ({ personality, onClose }) => {\r\n  const [messages, setMessages] = React.useState([\r\n    { sender: 'ai', text: `Сәлеметсіз бе! Мен ${personality.name}. Көкейіңіздегі сұрағыңызды қойыңыз.` }\r\n  ]);\r\n  const [userInput, setUserInput] = React.useState('');\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const messagesEndRef = React.useRef(null);\r\n\r\n  const scrollToBottom = () => { messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" }); };\r\n  React.useEffect(scrollToBottom, [messages]);\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!userInput.trim() || isLoading) return;\r\n    const newUserMessage = { sender: 'user', text: userInput };\r\n    setMessages(prev => [...prev, newUserMessage]);\r\n    setUserInput('');\r\n    setIsLoading(true);\r\n\r\n    const systemPrompt = `Ты — ${personality.name}. ${personality.system_prompt_bio}. Отвечай на вопросы пользователя с точки зрения своей исторической личности, используя свои знания, ценности и опыт. Будь мудрым, рассудительным и говори на русском языке. Ответы должны быть краткими и по существу.`;\r\n    const apiKey = \"\"; // add your key securely\r\n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;\r\n\r\n    const payload = { contents: [{ role: \"user\", parts: [{ text: userInput }] }], systemInstruction: { parts: [{ text: systemPrompt }] }, generationConfig: { temperature: 0.8, topP: 1 } };\r\n\r\n    try {\r\n      const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n      if (!response.ok) throw new Error(\"API call failed.\");\r\n      const result = await response.json();\r\n      const aiResponse = result.candidates?.[0]?.content?.parts?.[0]?.text;\r\n      setMessages(prev => [...prev, { sender: 'ai', text: aiResponse || \"Кешіріңіз, мен қазір жауап бере алмаймын.\" }]);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setMessages(prev => [...prev, { sender: 'ai', text: \"Техникалық ақауларға байланысты жауап беру мүмкін болмады.\" }]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 backdrop-blur-sm\" onClick={onClose}>\r\n      <motion.div initial={{ scale: 0.9, y: 20 }} animate={{ scale: 1, y: 0 }} exit={{ scale: 0.9, y: 20 }} className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl h-[80vh] flex flex-col p-6 relative card-kazakh\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"flex items-center mb-4 pb-4 border-b border-slate-200\">\r\n          <img src={personality.image} alt={personality.name} className=\"w-12 h-12 rounded-full mr-4 object-cover\"/>\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-slate-800\">{personality.name}</h2>\r\n            <p className=\"text-slate-500\">Сізбен диалогта</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 overflow-y-auto pr-2 space-y-4\">\r\n          {messages.map((msg, index) => (\r\n            <div key={index} className={`flex items-end gap-2 ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>\r\n              {msg.sender === 'ai' && <img src={personality.image} className=\"w-8 h-8 rounded-full object-cover\"/>}\r\n              <div className={`max-w-xs md:max-w-md p-3 rounded-2xl ${msg.sender === 'user' ? 'bg-teal-600 text-white rounded-br-none' : 'bg-slate-200 text-slate-800 rounded-bl-none'}`}>\r\n                <p>{msg.text}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {isLoading && (\r\n            <div className=\"flex items-end gap-2 justify-start\">\r\n              <img src={personality.image} className=\"w-8 h-8 rounded-full object-cover\"/>\r\n              <div className=\"max-w-xs md:max-w-md p-3 rounded-2xl bg-slate-200 text-slate-800 rounded-bl-none\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-2 h-2 bg-slate-400 rounded-full animate-pulse\"></div>\r\n                  <div className=\"w-2 h-2 bg-slate-400 rounded-full animate-pulse [animation-delay:0.2s]\"></div>\r\n                  <div className=\"w-2 h-2 bg-slate-400 rounded-full animate-pulse [animation-delay:0.4s]\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n        <form onSubmit={handleSendMessage} className=\"mt-4 flex items-center gap-2\">\r\n          <input type=\"text\" value={userInput} onChange={(e) => setUserInput(e.target.value)} placeholder={`${personality.name}-мен сөйлесу...`} className=\"flex-1 p-3 border border-slate-300 rounded-full focus:ring-2 focus:ring-teal-500 focus:outline-none\" />\r\n          <button type=\"submit\" disabled={isLoading} className=\"bg-teal-600 text-white p-3 rounded-full hover:bg-teal-700 disabled:bg-slate-400 transition-colors\">\r\n            <SendIcon className=\"w-6 h-6\"/>\r\n          </button>\r\n        </form>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default ChatModal;\r\n","// src/pages/HistoricalQuiz.jsx\r\nimport React from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ChatModal from \"../components/ChatModal\";\r\n\r\n/* ===== Тұлғалар ===== */\r\nconst personalities = {\r\n  abai: {\r\n    name: \"Абай Құнанбайұлы\",\r\n    description:\r\n      \"Сен ойшыл, сабырлы, рухани терең тұлғасың. Әділет, білім мен еңбек құндылықтарын жоғары қоясың.\",\r\n    image: encodeURI(\"/Абай Құнанбайұлы.jpg\"),\r\n    system_prompt_bio:\r\n      \"Ұлы ақын, ойшыл. Даналыққа, парасатқа, еңбек пен білімге үндейді.\",\r\n  },\r\n  bauyrzhan: {\r\n    name: \"Бауыржан Момышұлы\",\r\n    description:\r\n      \"Ержүрек, жауапкершілігі жоғары, әділеттілікті сүйесің. Қиында батыл шешім қабылдап, қорғайсың.\",\r\n    image: encodeURI(\"/Бауыржан Момышұлы.jpg\"),\r\n    system_prompt_bio:\r\n      \"Әскери қолбасшы, батыр. Тәртіп, намыс, төзімділік құндылықтарын дәріптейді.\",\r\n  },\r\n  tomyris: {\r\n    name: \"Томирис патшайым\",\r\n    description:\r\n      \"Әділет пен тәуелсіздікті бәрінен жоғары қоясың. Әлсізді қорғайсың, еркіндік пен теңдік — өмір мәні.\",\r\n    image: encodeURI(\"/Томирис.jpg\"),\r\n    system_prompt_bio:\r\n      \"Массагет патшайымы. Еркіндік пен әділдік жолындағы күрестің символы.\",\r\n  },\r\n  ahmet: {\r\n    name: \"Ахмет Байтұрсынұлы\",\r\n    description:\r\n      \"Ағартушылық пен білім — сенің жолың. Сөздің күші мен тілдің қасиетін қорғайсың.\",\r\n    image: encodeURI(\"/Ахмет Байтұрсынұлы.jpg\"),\r\n    system_prompt_bio:\r\n      \"Ұлт ұстазы, тілші, ағартушы. Қазақ тіл білімінің негізін қалаушылардың бірі.\",\r\n  },\r\n  alikhan: {\r\n    name: \"Әлихан Бөкейхан\",\r\n    description:\r\n      \"Халықтың қамын ойлайтын көшбасшысың. Бірлікке, әділ қоғамға, демократияға ұмтыласың.\",\r\n    image: encodeURI(\"/Әлихан Бөкейхан.jpg\"),\r\n    system_prompt_bio:\r\n      \"Алаш қозғалысының жетекшісі, саяси қайраткер. Стратегиялық ойлау мен жауапкершілікті алдыңғы орынға қояды.\",\r\n  },\r\n};\r\n\r\n/* ===== Сұрақтар ===== */\r\nconst questions = [\r\n  {\r\n    text: \"1. Қиын жағдай туындағанда сен не істейсің?\",\r\n    options: [\r\n      { text: \"A) Сабыр сақтап, терең ойланамын (Абай Құнанбайұлы)\", weights: { abai: 3 } },\r\n      { text: \"B) Тактиканы өзгертіп, нақты шешім қабылдаймын (Бауыржан Момышұлы)\", weights: { bauyrzhan: 3 } },\r\n      { text: \"C) Елдің мүддесін қорғаймын, күреске шығамын (Томирис патшайым)\", weights: { tomyris: 3 } },\r\n      { text: \"D) Адамдарды біліммен, сөзбен оятамын (Ахмет Байтұрсынұлы)\", weights: { ahmet: 3 } },\r\n      { text: \"E) Ұлтты біріктіру жолында идея іздеймін (Әлихан Бөкейхан)\", weights: { alikhan: 3 } },\r\n    ],\r\n  },\r\n  {\r\n    text: \"2. Саған ең маңызды құндылық қайсысы?\",\r\n    options: [\r\n      { text: \"A) Ақыл мен парасат (Абай)\", weights: { abai: 3 } },\r\n      { text: \"B) Ерлік пен намыс (Бауыржан)\", weights: { bauyrzhan: 3 } },\r\n      { text: \"C) Тәуелсіздік пен азаттық (Томирис)\", weights: { tomyris: 3 } },\r\n      { text: \"D) Білім мен ағарту (Ахмет)\", weights: { ahmet: 3 } },\r\n      { text: \"E) Бірлік пен ел басқару (Әлихан)\", weights: { alikhan: 3 } },\r\n    ],\r\n  },\r\n  {\r\n    text: \"3. Досың қиындыққа тап болса, сен...\",\r\n    options: [\r\n      { text: \"A) Оны сабырға шақырып, ақыл беремін (Абай)\", weights: { abai: 3 } },\r\n      { text: \"B) Бірге күресемін, қорғаймын (Бауыржан)\", weights: { bauyrzhan: 3 } },\r\n      { text: \"C) Оның намысын қорғау үшін алға шығамын (Томирис)\", weights: { tomyris: 3 } },\r\n      { text: \"D) Түсіндіріп, бағыт көрсетемін (Ахмет)\", weights: { ahmet: 3 } },\r\n      { text: \"E) Қиындықты жүйелі түрде шешуге көмектесемін (Әлихан)\", weights: { alikhan: 3 } },\r\n    ],\r\n  },\r\n  {\r\n    text: \"4. Егер сенде үлкен мүмкіндік болса, сен не істер едің?\",\r\n    options: [\r\n      { text: \"A) Халықты рухани байытуға атсалысамын (Абай)\", weights: { abai: 3 } },\r\n      { text: \"B) Елдің қорғанысын күшейтер едім (Бауыржан)\", weights: { bauyrzhan: 3 } },\r\n      { text: \"C) Әйелдің, ананың мәртебесін көтерер едім (Томирис)\", weights: { tomyris: 3 } },\r\n      { text: \"D) Қазақ тілін дамытуға, білім таратуға жұмыс жасар едім (Ахмет)\", weights: { ahmet: 3 } },\r\n      { text: \"E) Әділ қоғам орнатуға күш саламын (Әлихан)\", weights: { alikhan: 3 } },\r\n    ],\r\n  },\r\n  {\r\n    text: \"5. Қандай сипат өзіңе тән деп ойлайсың?\",\r\n    options: [\r\n      { text: \"A) Терең ойлы, парасатты (Абай)\", weights: { abai: 3 } },\r\n      { text: \"B) Батыл, табанды (Бауыржан)\", weights: { bauyrzhan: 3 } },\r\n      { text: \"C) Ер мінезді, намысты (Томирис)\", weights: { tomyris: 3 } },\r\n      { text: \"D) Сөзге шешен, ұстаздық қабілеті бар (Ахмет)\", weights: { ahmet: 3 } },\r\n      { text: \"E) Көшбасшы, ұйымдастырушы (Әлихан)\", weights: { alikhan: 3 } },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default function HistoricalQuiz() {\r\n  const navigate = useNavigate();\r\n\r\n  const [quizState, setQuizState] = React.useState(\"start\");\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = React.useState(0);\r\n  const [scores, setScores] = React.useState(\r\n    Object.keys(personalities).reduce((acc, k) => ({ ...acc, [k]: 0 }), {})\r\n  );\r\n  const [resultKey, setResultKey] = React.useState(null);\r\n  const [chatPersonality, setChatPersonality] = React.useState(null);\r\n\r\n  const handleStart = () => setQuizState(\"quiz\");\r\n\r\n  const handleAnswer = (weights) => {\r\n    const next = { ...scores };\r\n    for (const k in weights) next[k] += weights[k];\r\n    setScores(next);\r\n\r\n    if (currentQuestionIndex < questions.length - 1) {\r\n      setCurrentQuestionIndex((i) => i + 1);\r\n    } else {\r\n      const best = Object.keys(next).reduce((a, b) => (next[a] > next[b] ? a : b));\r\n      setResultKey(best);\r\n      setQuizState(\"result\");\r\n    }\r\n  };\r\n\r\n  const handleRestart = () => {\r\n    setQuizState(\"start\");\r\n    setCurrentQuestionIndex(0);\r\n    setScores(Object.keys(personalities).reduce((acc, k) => ({ ...acc, [k]: 0 }), {}));\r\n    setResultKey(null);\r\n  };\r\n\r\n  const question = questions[currentQuestionIndex];\r\n  const progress = ((currentQuestionIndex + 1) / questions.length) * 100;\r\n\r\n  return (\r\n    <div className=\"container mx-auto max-w-4xl px-4 py-10\">\r\n      {/* Header */}\r\n      <div className=\"text-center mb-8\">\r\n        <motion.h1\r\n          initial={{ opacity: 0, y: 12 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"text-3xl md:text-5xl font-extrabold tracking-tight\"\r\n        >\r\n          <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-[#1F7A8C] via-[#1aa6b5] to-[#0ea5a5]\">\r\n            Тарихи тұлға тесті\r\n          </span>\r\n        </motion.h1>\r\n        <div className=\"mx-auto mt-4 h-[3px] w-24 rounded-full bg-gradient-to-r from-[#1F7A8C] to-[#FFD580]\" />\r\n      </div>\r\n\r\n      <div className=\"rounded-2xl p-6 md:p-10 bg-white/80 backdrop-blur-xl border border-slate-200/70 shadow-[0_10px_30px_rgba(16,37,66,0.06)]\">\r\n        <AnimatePresence mode=\"wait\">\r\n          {quizState === \"start\" && (\r\n            <motion.div\r\n              key=\"start\"\r\n              initial={{ opacity: 0, y: 8 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -8 }}\r\n              className=\"text-center\"\r\n            >\r\n              <h2 className=\"text-3xl md:text-4xl font-extrabold text-slate-900 mb-4\">\r\n                Сіз Қазақстанның қай тарихи тұлғасына ұқсайсыз?\r\n              </h2>\r\n              <p className=\"max-w-2xl mx-auto text-lg text-slate-600 mb-8\">\r\n                Бірнеше сұраққа жауап беріп, қай тарихи тұлғаның рухы сізге жақын екенін анықтаңыз.\r\n              </p>\r\n              <button onClick={handleStart} className=\"btn btn-primary btn-xl\">\r\n                Тестті бастау\r\n              </button>\r\n              <div className=\"mt-6\">\r\n                <button onClick={() => navigate(-1)} className=\"btn btn-terтіary\">\r\n                  ⟵ Басты бетке\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {quizState === \"quiz\" && (\r\n            <motion.div key=\"quiz\" initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -8 }}>\r\n              {/* Progress */}\r\n              <div className=\"mb-6\">\r\n                <div className=\"w-full bg-slate-200/70 rounded-full h-2.5 overflow-hidden\">\r\n                  <motion.div\r\n                    className=\"h-2.5 rounded-full bg-gradient-to-r from-[#1F7A8C] via-[#1aa6b5] to-[#0ea5a5]\"\r\n                    style={{ width: `${progress}%` }}\r\n                    initial={{ width: 0 }}\r\n                    animate={{ width: `${progress}%` }}\r\n                    transition={{ duration: 0.45, ease: \"easeOut\" }}\r\n                  />\r\n                </div>\r\n                <div className=\"mt-2 text-right text-xs text-slate-500\">\r\n                  {currentQuestionIndex + 1} / {questions.length}\r\n                </div>\r\n              </div>\r\n\r\n              <h3 className=\"text-2xl md:text-3xl font-bold text-center text-slate-900 mb-6\">\r\n                {question.text}\r\n              </h3>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {question.options.map((opt, i) => (\r\n                  <motion.button\r\n                    key={i}\r\n                    onClick={() => handleAnswer(opt.weights)}\r\n                    whileHover={{ y: -2 }}\r\n                    whileTap={{ scale: 0.98 }}\r\n                    className=\"group text-left rounded-xl border-2 border-slate-200/70 bg-white p-4 hover:border-teal-500/70 hover:bg-teал-50/60 transition-all\"\r\n                  >\r\n                    <div className=\"flex items-start gap-3\">\r\n                      <div className=\"mt-0.5 h-2.5 w-2.5 rounded-full bg-teal-500/70 group-hover:bg-teal-600\" />\r\n                      <span className=\"text-slate-700 group-hover:text-slate-900\">{opt.text}</span>\r\n                    </div>\r\n                  </motion.button>\r\n                ))}\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {quizState === \"result\" && resultKey && (\r\n            <motion.div key=\"result\" initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -8 }}>\r\n              {(() => {\r\n                const p = personalities[resultKey];\r\n                return (\r\n                  <div className=\"text-center\">\r\n                    <h3 className=\"text-sm md:text-base tracking-wide uppercase text-teal-600 mb-2\">\r\n                      Сіздің тұлғаңыз\r\n                    </h3>\r\n                    <h2 className=\"text-3xl md:text-4xl font-extrabold text-slate-900 mb-3\">\r\n                      <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-[#1F7A8C] to-[#0ea5a5]\">\r\n                        {p.name}\r\n                      </span>\r\n                    </h2>\r\n                    <img\r\n                      src={p.image}\r\n                      alt={p.name}\r\n                      className=\"w-40 h-40 md:w-48 md:h-48 rounded-full mx-auto mb-6 shadow-xl border-4 border-white object-cover\"\r\n                      onError={(e) => {\r\n                        e.currentTarget.src =\r\n                          \"https://placehold.co/400x400/cccccc/ffffff?text=Image+Not+Found\";\r\n                      }}\r\n                    />\r\n                    <p className=\"text-base md:text-lg text-slate-700 max-w-2xl mx-auto mb-8\">\r\n                      {p.description}\r\n                    </p>\r\n                    <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n                      <button onClick={handleRestart} className=\"btn btn-tertiary\">\r\n                        Тестті қайта өту\r\n                      </button>\r\n                      <button onClick={() => setChatPersonality(p)} className=\"btn btn-primary\">\r\n                        ✨ {p.name.split(\" \")[0]}мен сөйлесу\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })()}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n\r\n      {/* Chat */}\r\n      <AnimatePresence>\r\n        {chatPersonality && (\r\n          <ChatModal personality={chatPersonality} onClose={() => setChatPersonality(null)} />\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ChatModal","personality","onClose","messages","setMessages","React","userInput","setUserInput","isLoading","setIsLoading","messagesEndRef","scrollToBottom","handleSendMessage","e","newUserMessage","prev","systemPrompt","apiUrl","payload","response","aiResponse","error","jsx","motion","jsxs","msg","index","SendIcon","personalities","questions","HistoricalQuiz","navigate","useNavigate","quizState","setQuizState","currentQuestionIndex","setCurrentQuestionIndex","scores","setScores","acc","k","resultKey","setResultKey","chatPersonality","setChatPersonality","handleStart","handleAnswer","weights","next","i","best","a","b","handleRestart","question","progress","AnimatePresence","opt","p"],"mappings":"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"}